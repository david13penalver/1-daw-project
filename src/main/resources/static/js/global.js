var Bn=Object.create,Dt=Object.defineProperty,qn=Object.getPrototypeOf,zn=Object.prototype.hasOwnProperty,Fn=Object.getOwnPropertyNames,Hn=Object.getOwnPropertyDescriptor;var Wn=n=>Dt(n,"__esModule",{value:!0});var N=(n,e)=>()=>(e||(e={exports:{}},n(e.exports,e)),e.exports);var Un=(n,e,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Fn(e))!zn.call(n,i)&&i!=="default"&&Dt(n,i,{get:()=>e[i],enumerable:!(t=Hn(e,i))||t.enumerable});return n},H=n=>Un(Wn(Dt(n!=null?Bn(qn(n)):{},"default",n&&n.__esModule&&"default"in n?{get:()=>n.default,enumerable:!0}:{value:n,enumerable:!0})),n);var Te=N((Bt,qt)=>{(function(n,e){typeof Bt=="object"&&typeof qt!="undefined"?qt.exports=e():typeof define=="function"&&define.amd?define(e):n.PointerEventsPolyfill=e()})(Bt,function(){"use strict";var n=["bubbles","cancelable","view","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","pageX","pageY"],e=[!1,!1,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0];function t(o,r){r=r||Object.create(null);var l=document.createEvent("Event");l.initEvent(o,r.bubbles||!1,r.cancelable||!1);for(var c=2,f;c<n.length;c++)f=n[c],l[f]=r[f]||e[c];l.buttons=r.buttons||0;var v=0;return r.pressure!==void 0&&l.buttons?v=r.pressure:v=l.buttons?.5:0,l.x=l.clientX,l.y=l.clientY,l.pointerId=r.pointerId||0,l.width=r.width||1,l.height=r.height||1,l.pressure=v,l.tiltX=r.tiltX||0,l.tiltY=r.tiltY||0,l.twist=r.twist||0,l.tangentialPressure=r.tangentialPressure||0,l.pointerType=r.pointerType||"",l.hwTimestamp=r.hwTimestamp||0,l.isPrimary=r.isPrimary||!1,l.detail=0,l}var i=window.Map&&window.Map.prototype.forEach,s=i?Map:a;function a(){this.array=[],this.size=0}a.prototype={set:function(o,r){if(r===void 0)return this.delete(o);this.has(o)||this.size++,this.array[o]=r},has:function(o){return this.array[o]!==void 0},delete:function(o){this.has(o)&&(delete this.array[o],this.size--)},get:function(o){return this.array[o]},clear:function(){this.array.length=0,this.size=0},forEach:function(o,r){return this.array.forEach(function(l,c){o.call(r,l,c,this)},this)}};var u=["bubbles","cancelable","view","detail","screenX","screenY","clientX","clientY","ctrlKey","altKey","shiftKey","metaKey","button","relatedTarget","buttons","pointerId","width","height","pressure","tiltX","tiltY","pointerType","hwTimestamp","isPrimary","type","target","currentTarget","which","pageX","pageY","timeStamp"],d=[!1,!1,null,null,0,0,0,0,!1,!1,!1,!1,0,null,0,0,0,0,0,0,0,"",0,!1,"",null,null,0,0,0,0],p={pointerover:1,pointerout:1,pointerenter:1,pointerleave:1},_=typeof SVGElementInstance!="undefined",h={pointermap:new s,eventMap:Object.create(null),captureInfo:Object.create(null),eventSources:Object.create(null),eventSourceList:[],registerSource:function(o,r){var l=r,c=l.events;c&&(c.forEach(function(f){l[f]&&(this.eventMap[f]=l[f].bind(l))},this),this.eventSources[o]=l,this.eventSourceList.push(l))},register:function(o){for(var r=this.eventSourceList.length,l=0,c;l<r&&(c=this.eventSourceList[l]);l++)c.register.call(c,o)},unregister:function(o){for(var r=this.eventSourceList.length,l=0,c;l<r&&(c=this.eventSourceList[l]);l++)c.unregister.call(c,o)},contains:function(o,r){try{return o.contains(r)}catch(l){return!1}},down:function(o){o.bubbles=!0,this.fireEvent("pointerdown",o)},move:function(o){o.bubbles=!0,this.fireEvent("pointermove",o)},up:function(o){o.bubbles=!0,this.fireEvent("pointerup",o)},enter:function(o){o.bubbles=!1,this.fireEvent("pointerenter",o)},leave:function(o){o.bubbles=!1,this.fireEvent("pointerleave",o)},over:function(o){o.bubbles=!0,this.fireEvent("pointerover",o)},out:function(o){o.bubbles=!0,this.fireEvent("pointerout",o)},cancel:function(o){o.bubbles=!0,this.fireEvent("pointercancel",o)},leaveOut:function(o){this.out(o),this.propagate(o,this.leave,!1)},enterOver:function(o){this.over(o),this.propagate(o,this.enter,!0)},eventHandler:function(o){if(!o._handledByPE){var r=o.type,l=this.eventMap&&this.eventMap[r];l&&l(o),o._handledByPE=!0}},listen:function(o,r){r.forEach(function(l){this.addEvent(o,l)},this)},unlisten:function(o,r){r.forEach(function(l){this.removeEvent(o,l)},this)},addEvent:function(o,r){o.addEventListener(r,this.boundHandler)},removeEvent:function(o,r){o.removeEventListener(r,this.boundHandler)},makeEvent:function(o,r){this.captureInfo[r.pointerId]&&(r.relatedTarget=null);var l=new t(o,r);return r.preventDefault&&(l.preventDefault=r.preventDefault),l._target=l._target||r.target,l},fireEvent:function(o,r){var l=this.makeEvent(o,r);return this.dispatchEvent(l)},cloneEvent:function(o){for(var r=Object.create(null),l,c=0;c<u.length;c++)l=u[c],r[l]=o[l]||d[c],_&&(l==="target"||l==="relatedTarget")&&r[l]instanceof SVGElementInstance&&(r[l]=r[l].correspondingUseElement);return o.preventDefault&&(r.preventDefault=function(){o.preventDefault()}),r},getTarget:function(o){var r=this.captureInfo[o.pointerId];if(!r)return o._target;if(o._target===r||!(o.type in p))return r},propagate:function(o,r,l){for(var c=o.target,f=[];c!=null&&c!==document&&!c.contains(o.relatedTarget);)if(f.push(c),c=c.parentNode,!c)return;l&&f.reverse(),f.forEach(function(v){o.target=v,r.call(this,o)},this)},setCapture:function(o,r,l){this.captureInfo[o]&&this.releaseCapture(o,l),this.captureInfo[o]=r,this.implicitRelease=this.releaseCapture.bind(this,o,l),document.addEventListener("pointerup",this.implicitRelease),document.addEventListener("pointercancel",this.implicitRelease);var c=new t("gotpointercapture",{bubbles:!0});c.pointerId=o,c._target=r,l||this.asyncDispatchEvent(c)},releaseCapture:function(o,r){var l=this.captureInfo[o];if(!!l){this.captureInfo[o]=void 0,document.removeEventListener("pointerup",this.implicitRelease),document.removeEventListener("pointercancel",this.implicitRelease);var c=new t("lostpointercapture",{bubbles:!0});c.pointerId=o,c._target=l,r||this.asyncDispatchEvent(c)}},dispatchEvent:function(o){var r=this.getTarget(o);if(r)return r.dispatchEvent(o)},asyncDispatchEvent:function(o){requestAnimationFrame(this.dispatchEvent.bind(this,o))}};h.boundHandler=h.eventHandler.bind(h);var m={shadow:function(o){if(o)return o.shadowRoot||o.webkitShadowRoot},canTarget:function(o){return o&&Boolean(o.elementFromPoint)},targetingShadow:function(o){var r=this.shadow(o);if(this.canTarget(r))return r},olderShadow:function(o){var r=o.olderShadowRoot;if(!r){var l=o.querySelector("shadow");l&&(r=l.olderShadowRoot)}return r},allShadows:function(o){for(var r=[],l=this.shadow(o);l;)r.push(l),l=this.olderShadow(l);return r},searchRoot:function(o,r,l){if(o){var c=o.elementFromPoint(r,l),f,v;for(v=this.targetingShadow(c);v;)if(f=v.elementFromPoint(r,l),!f)v=this.olderShadow(v);else{var L=this.targetingShadow(f);return this.searchRoot(L,r,l)||f}return c}},owner:function(o){for(var r=o;r.parentNode;)r=r.parentNode;return r.nodeType!==Node.DOCUMENT_NODE&&r.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&(r=document),r},findTarget:function(o){var r=o.clientX,l=o.clientY,c=this.owner(o.target);return c.elementFromPoint(r,l)||(c=document),this.searchRoot(c,r,l)}},b=Array.prototype.forEach.call.bind(Array.prototype.forEach),g=Array.prototype.map.call.bind(Array.prototype.map),z=Array.prototype.slice.call.bind(Array.prototype.slice),F=Array.prototype.filter.call.bind(Array.prototype.filter),x=window.MutationObserver||window.WebKitMutationObserver,Y="[touch-action]",P={subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0,attributeFilter:["touch-action"]};function M(o,r,l,c){this.addCallback=o.bind(c),this.removeCallback=r.bind(c),this.changedCallback=l.bind(c),x&&(this.observer=new x(this.mutationWatcher.bind(this)))}M.prototype={watchSubtree:function(o){this.observer&&m.canTarget(o)&&this.observer.observe(o,P)},enableOnSubtree:function(o){this.watchSubtree(o),o===document&&document.readyState!=="complete"?this.installOnLoad():this.installNewSubtree(o)},installNewSubtree:function(o){b(this.findElements(o),this.addElement,this)},findElements:function(o){return o.querySelectorAll?o.querySelectorAll(Y):[]},removeElement:function(o){this.removeCallback(o)},addElement:function(o){this.addCallback(o)},elementChanged:function(o,r){this.changedCallback(o,r)},concatLists:function(o,r){return o.concat(z(r))},installOnLoad:function(){document.addEventListener("readystatechange",function(){document.readyState==="complete"&&this.installNewSubtree(document)}.bind(this))},isElement:function(o){return o.nodeType===Node.ELEMENT_NODE},flattenMutationTree:function(o){var r=g(o,this.findElements,this);return r.push(F(o,this.isElement)),r.reduce(this.concatLists,[])},mutationWatcher:function(o){o.forEach(this.mutationHandler,this)},mutationHandler:function(o){if(o.type==="childList"){var r=this.flattenMutationTree(o.addedNodes);r.forEach(this.addElement,this);var l=this.flattenMutationTree(o.removedNodes);l.forEach(this.removeElement,this)}else o.type==="attributes"&&this.elementChanged(o.target,o.oldValue)}};function kt(o){return"body /shadow-deep/ "+o}function G(o){return"{ -ms-touch-action: "+o+"; touch-action: "+o+"; }"}var ut=[{selector:'[touch-action="none"]',value:"none"},{selector:'[touch-action="auto"]',value:"auto"},{selector:'[touch-action~="pan-x"]',value:"pan-x"},{selector:'[touch-action~="pan-y"]',value:"pan-y"},{selector:'[touch-action~="pan-up"]',value:"pan-up"},{selector:'[touch-action~="pan-down"]',value:"pan-down"},{selector:'[touch-action~="pan-left"]',value:"pan-left"},{selector:'[touch-action~="pan-right"]',value:"pan-right"}],j="",ht=window.PointerEvent||window.MSPointerEvent,it=!window.ShadowDOMPolyfill&&document.head.createShadowRoot;function Lt(){if(ht){ut.forEach(function(r){j+=r.selector+G(r.value)+`
`,it&&(j+=kt(r.selector)+G(r.value)+`
`)});var o=document.createElement("style");o.textContent=j,document.head.appendChild(o)}}var R=h.pointermap,ue=25,Ot=[1,4,2,8,16],$=!1;try{$=new MouseEvent("test",{buttons:1}).buttons===1}catch(o){}var he={POINTER_ID:1,POINTER_TYPE:"mouse",events:["mousedown","webkitmouseforcechanged","mousemove","mouseup","mouseover","mouseout"],register:function(o){h.listen(o,this.events)},unregister:function(o){h.unlisten(o,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(o){for(var r=this.lastTouches,l=o.clientX,c=o.clientY,f=0,v=r.length,L;f<v&&(L=r[f]);f++){var C=Math.abs(l-L.x),ft=Math.abs(c-L.y);if(C<=ue&&ft<=ue)return!0}},prepareEvent:function(o){var r=h.cloneEvent(o),l=r.preventDefault;return r.preventDefault=function(){o.preventDefault(),l()},r.pointerId=this.POINTER_ID,r.isPrimary=!0,r.pointerType=this.POINTER_TYPE,"webkitForce"in o&&(r.pressure=o.webkitForce-MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN),r},prepareButtonsForMove:function(o,r){var l=R.get(this.POINTER_ID);r.which===0||!l?o.buttons=0:o.buttons=l.buttons,r.buttons=o.buttons},mousedown:function(o){if(!this.isEventSimulatedFromTouch(o)){var r=R.get(this.POINTER_ID),l=this.prepareEvent(o);$||(l.buttons=Ot[l.button],r&&(l.buttons|=r.buttons),o.buttons=l.buttons),R.set(this.POINTER_ID,o),!r||r.buttons===0?h.down(l):h.move(l)}},webkitmouseforcechanged:function(o){this.mousemove(o)},mousemove:function(o){if(!this.isEventSimulatedFromTouch(o)){var r=this.prepareEvent(o);$||this.prepareButtonsForMove(r,o),r.button=-1,R.set(this.POINTER_ID,o),h.move(r)}},mouseup:function(o){if(!this.isEventSimulatedFromTouch(o)){var r=R.get(this.POINTER_ID),l=this.prepareEvent(o);if(!$){var c=Ot[l.button];l.buttons=r?r.buttons&~c:0,o.buttons=l.buttons}R.set(this.POINTER_ID,o),l.buttons&=~Ot[l.button],l.buttons===0?h.up(l):h.move(l)}},mouseover:function(o){if(!this.isEventSimulatedFromTouch(o)){var r=this.prepareEvent(o);$||this.prepareButtonsForMove(r,o),r.button=-1,R.set(this.POINTER_ID,o),h.enterOver(r)}},mouseout:function(o){if(!this.isEventSimulatedFromTouch(o)){var r=this.prepareEvent(o);$||this.prepareButtonsForMove(r,o),r.button=-1,h.leaveOut(r)}},cancel:function(o){var r=this.prepareEvent(o);h.cancel(r),this.deactivateMouse()},deactivateMouse:function(){R.delete(this.POINTER_ID)}},On=h.captureInfo,Cn=m.findTarget.bind(m),Ct=m.allShadows.bind(m),I=h.pointermap,An=2500,de="touch-action",fe,At=1,xt=2,Mt=4,It=8,pe=At|xt|Mt|It,ot={events:["touchstart","touchmove","touchforcechange","touchend","touchcancel"],register:function(o){fe.enableOnSubtree(o)},unregister:function(){},elementAdded:function(o){var r=o.getAttribute(de),l=this.touchActionToScrollType(r);typeof l=="number"&&(o._scrollType=l,h.listen(o,this.events),Ct(o).forEach(function(c){c._scrollType=l,h.listen(c,this.events)},this))},elementRemoved:function(o){if(I.size>0){var r=this.events;o.addEventListener("touchend",function(){o._scrollType=void 0,h.unlisten(o,r)})}else o._scrollType=void 0,h.unlisten(o,this.events);Ct(o).forEach(function(l){l._scrollType=void 0,h.unlisten(l,this.events)},this)},elementChanged:function(o,r){var l=o.getAttribute(de),c=this.touchActionToScrollType(l),f=this.touchActionToScrollType(r);typeof c=="number"&&typeof f=="number"?(o._scrollType=c,Ct(o).forEach(function(v){v._scrollType=c},this)):typeof f=="number"?this.elementRemoved(o):typeof c=="number"&&this.elementAdded(o)},scrollTypes:{UP:function(o){return o.includes("pan-y")||o.includes("pan-up")?At:0},DOWN:function(o){return o.includes("pan-y")||o.includes("pan-down")?xt:0},LEFT:function(o){return o.includes("pan-x")||o.includes("pan-left")?Mt:0},RIGHT:function(o){return o.includes("pan-x")||o.includes("pan-right")?It:0}},touchActionToScrollType:function(o){if(!!o){if(o==="auto")return pe;if(o==="none")return 0;var r=o.split(" "),l=this.scrollTypes;return l.UP(r)|l.DOWN(r)|l.LEFT(r)|l.RIGHT(r)}},POINTER_TYPE:"touch",firstTouch:null,isPrimaryTouch:function(o){return this.firstTouch===o.identifier},setPrimaryTouch:function(o){(I.size===0||I.size===1&&I.has(1))&&(this.firstTouch=o.identifier,this.firstXY={X:o.clientX,Y:o.clientY},this.scrolling=!1)},removePrimaryPointer:function(o){o.isPrimary&&(this.firstTouch=null,this.firstXY=null)},typeToButtons:function(o){var r=0;return(o==="touchstart"||o==="touchmove"||o==="touchforcechange")&&(r=1),r},touchToPointer:function(o){var r=this.currentTouchEvent,l=h.cloneEvent(o),c=l.pointerId=o.identifier+2;if(l.target=On[c]||Cn(l),l.bubbles=!0,l.cancelable=!0,l.button=0,l.buttons=this.typeToButtons(r.type),l.width=(o.radiusX||o.webkitRadiusX||0)*2,l.height=(o.radiusY||o.webkitRadiusY||0)*2,l.pressure=o.force!==void 0?o.force:o.webkitForce!==void 0?o.webkitForce:void 0,l.isPrimary=this.isPrimaryTouch(o),o.altitudeAngle){var f=Math.tan(o.altitudeAngle),v=180/Math.PI;l.tiltX=Math.atan(Math.cos(o.azimuthAngle)/f)*v,l.tiltY=Math.atan(Math.sin(o.azimuthAngle)/f)*v}else l.tiltX=0,l.tiltY=0;o.touchType==="stylus"?l.pointerType="pen":l.pointerType=this.POINTER_TYPE,l.altKey=r.altKey,l.ctrlKey=r.ctrlKey,l.metaKey=r.metaKey,l.shiftKey=r.shiftKey;var L=this;return l.preventDefault=function(){L.scrolling=!1,L.firstXY=null,r.preventDefault()},l},processTouches:function(o,r){var l=o.changedTouches;this.currentTouchEvent=o;for(var c=0,f;c<l.length;c++)f=l[c],r.call(this,this.touchToPointer(f))},shouldScroll:function(o){if(this.firstXY){var r,l=o.currentTarget._scrollType;if(l===0)r=!1;else if(l===pe)r=!0;else{var c=o.changedTouches[0],f=c.clientY-this.firstXY.Y,v=Math.abs(f),L=c.clientX-this.firstXY.X,C=Math.abs(L),ft=l&At,be=l&xt,_e=l&Mt,we=l&It;_e&&we?r=C>v:_e?r=C>v&&L>0:we&&(r=C>v&&L<0),r||(ft&&be?r=C<v:ft?r=C<v&&f>0:be&&(r=C<v&&f<0))}return this.firstXY=null,r}},findTouch:function(o,r){for(var l=0,c=o.length,f;l<c&&(f=o[l]);l++)if(f.identifier===r)return!0},vacuumTouches:function(o){var r=o.touches;if(I.size>=r.length){var l=[];I.forEach(function(c,f){if(f!==1&&!this.findTouch(r,f-2)){var v=c.out;l.push(v)}},this),l.forEach(this.cancelOut,this)}},touchstart:function(o){this.vacuumTouches(o),this.setPrimaryTouch(o.changedTouches[0]),this.dedupSynthMouse(o),this.scrolling||this.processTouches(o,this.overDown)},overDown:function(o){I.set(o.pointerId,{target:o.target,out:o,outTarget:o.target}),h.enterOver(o),h.down(o)},touchforcechange:function(o){this.touchmove(o)},touchmove:function(o){this.scrolling||(this.shouldScroll(o)?(this.scrolling=!0,this.touchcancel(o)):(o.type!=="touchforcechange"&&o.preventDefault(),this.processTouches(o,this.moveOverOut)))},moveOverOut:function(o){var r=o,l=I.get(r.pointerId);if(!!l){var c=l.out,f=l.outTarget;h.move(r),c&&f!==r.target&&(c.relatedTarget=r.target,r.relatedTarget=f,c.target=f,r.target?(h.leaveOut(c),h.enterOver(r)):(r.target=f,r.relatedTarget=null,this.cancelOut(r))),l.out=r,l.outTarget=r.target}},touchend:function(o){this.dedupSynthMouse(o),this.processTouches(o,this.upOut)},upOut:function(o){this.scrolling||(h.up(o),h.leaveOut(o)),this.cleanUpPointer(o)},touchcancel:function(o){this.processTouches(o,this.cancelOut)},cancelOut:function(o){h.cancel(o),h.leaveOut(o),this.cleanUpPointer(o)},cleanUpPointer:function(o){I.delete(o.pointerId),this.removePrimaryPointer(o)},dedupSynthMouse:function(o){var r=he.lastTouches,l=o.changedTouches[0];if(this.isPrimaryTouch(l)){var c={x:l.clientX,y:l.clientY};r.push(c);var f=function(v,L){var C=v.indexOf(L);C>-1&&v.splice(C,1)}.bind(null,r,c);setTimeout(f,An)}}};fe=new M(ot.elementAdded,ot.elementRemoved,ot.elementChanged,ot);var me=h.pointermap,xn=window.MSPointerEvent&&typeof window.MSPointerEvent.MSPOINTER_TYPE_MOUSE=="number",Mn={events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(o){h.listen(o,this.events)},unregister:function(o){h.unlisten(o,this.events)},POINTER_TYPES:["","unavailable","touch","pen","mouse"],prepareEvent:function(o){var r=o;return xn&&(r=h.cloneEvent(o),r.pointerType=this.POINTER_TYPES[o.pointerType]),r},cleanup:function(o){me.delete(o)},MSPointerDown:function(o){me.set(o.pointerId,o);var r=this.prepareEvent(o);h.down(r)},MSPointerMove:function(o){var r=this.prepareEvent(o);h.move(r)},MSPointerUp:function(o){var r=this.prepareEvent(o);h.up(r),this.cleanup(o.pointerId)},MSPointerOut:function(o){var r=this.prepareEvent(o);h.leaveOut(r)},MSPointerOver:function(o){var r=this.prepareEvent(o);h.enterOver(r)},MSPointerCancel:function(o){var r=this.prepareEvent(o);h.cancel(r),this.cleanup(o.pointerId)},MSLostPointerCapture:function(o){var r=h.makeEvent("lostpointercapture",o);h.dispatchEvent(r)},MSGotPointerCapture:function(o){var r=h.makeEvent("gotpointercapture",o);h.dispatchEvent(r)}};function In(){if(!window.PointerEvent){if(window.PointerEvent=t,window.navigator.msPointerEnabled){var o=window.navigator.msMaxTouchPoints;Object.defineProperty(window.navigator,"maxTouchPoints",{value:o,enumerable:!0}),h.registerSource("ms",Mn)}else Object.defineProperty(window.navigator,"maxTouchPoints",{value:0,enumerable:!0}),h.registerSource("mouse",he),window.ontouchstart!==void 0&&h.registerSource("touch",ot);h.register(document)}}var Nn=window.navigator,Nt,Rt,ve;function dt(o){if(!h.pointermap.has(o)){var r=new Error("NotFoundError");throw r.name="NotFoundError",r}}function ge(o){for(var r=o.parentNode;r&&r!==o.ownerDocument;)r=r.parentNode;if(!r){var l=new Error("InvalidStateError");throw l.name="InvalidStateError",l}}function ye(o){var r=h.pointermap.get(o);return r.buttons!==0}Nn.msPointerEnabled?(Nt=function(o){dt(o),ge(this),ye(o)&&(h.setCapture(o,this,!0),this.msSetPointerCapture(o))},Rt=function(o){dt(o),h.releaseCapture(o,!0),this.msReleasePointerCapture(o)}):(Nt=function(r){dt(r),ge(this),ye(r)&&h.setCapture(r,this)},Rt=function(r){dt(r),h.releaseCapture(r)}),ve=function(r){return!!h.captureInfo[r]};function Rn(){window.Element&&!window.Element.prototype.setPointerCapture&&Object.defineProperties(window.Element.prototype,{setPointerCapture:{value:Nt},releasePointerCapture:{value:Rt},hasPointerCapture:{value:ve}})}Lt(),In(),Rn();var Dn={dispatcher:h,Installer:M,PointerEvent:t,PointerMap:s,targetFinding:m};return Dn})});var mt=N(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});var Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ee=function(){function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function Pe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var rt=new Map,Kn=function(){function n(){Pe(this,n)}return Ee(n,null,[{key:"instanciateAll",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"[data-controller]",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"data-controller",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=null;if(typeof t=="string")a=document.querySelectorAll(t);else if((typeof t=="undefined"?"undefined":Xn(t))==="object"){if(!t.hasOwnProperty("el"))throw'Instanciate all is missing the DOMNode. Ex: instanciateAll({el: DOMNode, query: "[data-controller]"})';t.hasOwnProperty("query")||(t.query="[data-controller]"),a=t.el.querySelectorAll(t.query)}if(a.length>0)for(var u=0;u<a.length;u++){var d=a[u],p=d.getAttribute(i);p&&n.instanciate(d,d.getAttribute(i),s)}}},{key:"instanciate",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=i;try{if(typeof i=="string"){if(t.data&&t.data.instanciated)throw new Error("The element with the controller '"+i+"' has already been instanciated. This error is non-critical and just means that something has tried to instanciate it twice.");if(rt.has(i))a=rt.get(i);else throw new Error("The controller '"+i+"' has not been registered. Please make sure the controller is registering itself using ExecuteController.registerController(CLASS, 'OPTIONAL-NAME').");if(!s){var u=t.dataset,d=new a(t,u);return t}}}catch(h){console.warn("Error: "+h.message,h.stack)}if(s){var p=t.dataset,_=new a(t,p);return t}}},{key:"registerController",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";try{if(!i)throw"Controller name is required. Ex: ExecuteControllers.registerController(TestController, 'TestController');";rt.has(i)?console.warn("Controller "+i+" is already registered."):rt.set(i,t)}catch(s){}}},{key:"controllersList",get:function(){return rt}}]),n}(),Vn=function(){function n(e){Pe(this,n),this.element=e,this.element.data=this.element.data||{},this.element.data.controller=this,this.element.data.instanciated=!0}return Ee(n,[{key:"elementExistsInDOM",value:function(){var t=void 0,i=void 0;if(i=this.element||null,!i)return!1;for(t=this.element;t;){if(t===document)return!0;t=t.parentNode}return!1}}]),n}();pt.default=Vn;pt.ExecuteControllers=Kn});var Se=N(zt=>{"use strict";Object.defineProperty(zt,"__esModule",{value:!0});var Yn=function(){function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),Ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function Gn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var y={};y.floatRandomBetween=function(n,e){return Math.random()*(e-n+1)+n};y.randomBetween=function(n,e){return Math.floor(y.floatRandomBetween(n,e))};y.lerp=function(n,e,t){return(1-t)*n+t*e};y.getStyle=function(n,e,t){var i="";if(window.getComputedStyle)i=getComputedStyle(n).getPropertyValue(e);else if(n.currentStyle)try{i=n.currentStyle[e]}catch(s){}return t&&(i=parseInt(i)),i};y.log=function(n,e){var t,i;switch(n){case"success":i="Green",t="LimeGreen";break;case"info":i="DodgerBlue",t="Turquoise";break;case"error":i="Black",t="Red";break;case"warning":i="Tomato",t="Gold";break;default:i="black",t="White"}(typeof e=="undefined"?"undefined":Ft(e))==="object"?console.log(e):console.log("%c"+e,"color:"+i+";font-weight:bold; background-color: "+t+";")};y.once=function(n,e,t){n.addEventListener(e,function(i){return i.target.removeEventListener(i.type,arguments.callee),t(i)})};y.shuffleArray=function(n){for(var e=n.length,t,i;e!==0;)i=Math.floor(Math.random()*e),e-=1,t=n[e],n[e]=n[i],n[i]=t;return n};y.fireCustomEvent=function(n,e,t,i){var s,a={bubbles:t||!0,cancelable:i||!0,detail:e||null};typeof window.CustomEvent=="function"?s=new CustomEvent(n,a):(s=document.createEvent("CustomEvent"),s.initCustomEvent(n,a.bubbles,a.cancelable,a.detail)),window.dispatchEvent(s)};y.forEachNode=function(n,e,t){for(var i=0;i<n.length;i++)e.call(t,i,n[i])};y.getElementPosition=function(n){var e=n.getBoundingClientRect(),t=window.pageYOffset,i=window.pageXOffset,s=document.body.clientTop||0,a=document.body.clientLeft||0,u=e.top+t-s,d=e.left+i-a;return{top:Math.round(u),left:Math.round(d)}};y.getViewportDimensions=function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}};y.classExtend=function(n,e){var t={}.hasOwnProperty;for(var i in e)t.call(e,i)&&(n[i]=e[i]);function s(){this.constructor=n}return s.prototype=e.prototype,n.prototype=new s,n.__super__=e.prototype,n};y.hasClass=function(n,e){var t,i,s,a,u,d;if(i=n.split(" "),e.classList){for(s=0,u=i.length;s<u;s++)if(t=i[s],e.classList.contains(t)===!0)return!0}else for(a=0,d=i.length;a<d;a++)if(t=i[a],new RegExp("(^| )"+t+"( |$)","gi").test(e.c))return!0;return!1};y.removeClass=function(n,e){var t,i,s,a,u;if(t=n.split(" "),e.classList)for(i=0,a=t.length;i<a;i++)n=t[i],e.classList.remove(n);else for(s=0,u=t.length;s<u;s++)n=t[s],e.className=e.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," ")};y.addClass=function(n,e){var t,i,s,a,u;if(t=n.split(" "),e.classList)for(i=0,a=t.length;i<a;i++)n=t[i],e.classList.add(n);else for(s=0,u=t.length;s<u;s++)n=t[s],e.className+=" "+n};y.getSiblings=function(n){return Array.prototype.filter.call(n.parentNode.children,function(e){return e!==n})};y.matches=function(){var n,e;return n=document.documentElement,e=n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector,e};y.extend=function(n,e){var t={},i=null;for(i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t};y.deepExtend=function(){if(Object.assign)return Object.assign.apply(Object,arguments);for(var n=arguments[0]||{},e=0,t=null;e++<arguments.length;){var i=arguments[e];if(i&&(typeof i=="undefined"?"undefined":Ft(i))=="object")for(t in i)i.hasOwnProperty(t)&&(Ft(i[t])=="object"&&i[t]!=null?n[t]=y.deepExtend(n[t],i[t]):n[t]=i[t])}return n};y.getSelectorForElement=function(n){for(var e=[];n.parentNode;)if(n.id){e.unshift("#"+n.id);break}else{if(n==n.ownerDocument.documentElement)e.unshift(n.tagName);else{for(var t=1,i=n;i.previousElementSibling;i=i.previousElementSibling,t++);e.unshift(n.tagName+":nth-child("+t+")")}n=n.parentNode}return e.join(" > ")};var jn=function(){function n(){Gn(this,n),this.start()}return Yn(n,[{key:"start",value:function(){this.running!==!0&&(this.elapsedTime=0,this.lastTime=0,this.current=0,this.low=60,this.averageOverall=60,this.average60=60,this.ticks=0,this.running=!0,requestAnimationFrame(this.run.bind(this)))}},{key:"stop",value:function(){this.running=!1}},{key:"run",value:function(t){var i=void 0;this.elapsedTime=(t-(this.lastTime||t))/1e3,this.lastTime=t,this.ticks+=1,this.current=1/this.elapsedTime,this.current<this.low&&(this.low=this.current),isNaN(parseInt(this.current))||(this.averageOverall=(this.ticks*this.averageOverall+this.current)/(this.ticks+1),this.ticks%60==0&&(this.average60=60),i=this.ticks%60+1,this.average60=(i*this.average60+this.current)/(i+1)),this.running===!0&&requestAnimationFrame(this.run.bind(this))}}]),n}(),Ht=null;y.getFPSMeasure=function(){return Ht===null&&(Ht=new jn),Ht};y.fixWidows=function(n){if(_els=n,n instanceof Node&&(_els=[n]),_els&&_els.length)for(var e=0;e<_els.length;e++){var t=_els[e];t instanceof Node&&(t.innerHTML=t.innerHTML.replace(/\s(?=[^\s]*$)/g,"&nbsp;"))}};zt.default=y});var Kt=N(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.default=void 0;var ke=$n(mt()),Wt=Qn(Se());function Qn(n){return n&&n.__esModule?n:{default:n}}function Le(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return Le=function(){return n},n}function $n(n){if(n&&n.__esModule)return n;if(n===null||st(n)!=="object"&&typeof n!="function")return{default:n};var e=Le();if(e&&e.has(n))return e.get(n);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var a=i?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(t,s,a):t[s]=n[s]}return t.default=n,e&&e.set(n,t),t}function st(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?st=function(t){return typeof t}:st=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(n)}function Jn(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Zn(n,e,t){return e&&Oe(n.prototype,e),t&&Oe(n,t),n}function ti(n,e){return e&&(st(e)==="object"||typeof e=="function")?e:at(n)}function Ut(n){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(n)}function at(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ei(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Xt(n,e)}function Xt(n,e){return Xt=Object.setPrototypeOf||function(i,s){return i.__proto__=s,i},Xt(n,e)}var Ce=function(n){ei(e,n);function e(t){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Jn(this,e),i=ti(this,Ut(e).call(this,t)),i.classPrefix=s.vpprefix||"vp",i.stopTopThreshold=s.vpstoptopthreshold,i.animationCallback=s.animationCallback,i._onObserve=i._onObserve.bind(at(i)),i._onPlay=i._onPlay.bind(at(i)),i._onResize=i._onResize.bind(at(i)),i._onTidy=i._onTidy.bind(at(i)),i.tidyInterval=setInterval(i._onTidy,5e3),window.addEventListener("resize",i._onResize),i._onResize(),"IntersectionObserver"in window?(i.observer=new IntersectionObserver(i._onObserve,{rootMargin:"0%",threshold:[.1]}),i.observer.observe(i.element)):(console.log("%cIntersection Observers not supported","color: red"),i.runAnimation(100,100,100)),i.element.querySelector(".vp-debug")&&(i._debugElement=i.element.querySelector(".vp-debug")),i.element.classList.add("".concat(i.classPrefix,"--initialised")),window.addEventListener("load",function(){for(var a=i.element,u=0;a!==document.body&&(u+=a.offsetTop,a=a.parentNode,a!==null););i.top=u-window.scrollY}),i}return Zn(e,[{key:"_onObserve",value:function(i,s){var a=this;i.forEach(function(u,d){u.isIntersecting?(a.playing=!0,a.isOnScreen=!0):(a.playing=!1,a.isOnScreen=!1)})}},{key:"_onPlay",value:function(i){this.playing===!0&&requestAnimationFrame(this._onPlay),this.scrollPos=window.scrollY||window.pageYOffset}},{key:"_onResize",value:function(i){this.windowHeight=window.innerHeight}},{key:"_onTidy",value:function(){var i=this.elementExistsInDOM();i||this.tidy()}},{key:"runAnimation",value:function(i,s,a){Wt.default.removeClass(this.classes.join(" "),this.element);for(var u=0;u<=1;u+=.1){var d=Math.round(u*100);i>=u&&Wt.default.addClass("".concat(this.classPrefix,"--on-").concat(d," ").concat(this.classPrefix,"--onf-").concat(d),this.element),a>=u&&Wt.default.addClass("".concat(this.classPrefix,"--b-").concat(d," ").concat(this.classPrefix,"--bf-").concat(d),this.element)}this.animationCallback&&this.animationCallback(i,s,a),this.stopTopThreshold&&i>=this.stopTopThreshold&&(this.tidy(),this.element.classList.add("".concat(this.classPrefix,"--thresholdReached"))),this._debugElement&&(this._debugElement.innerHTML=i)}},{key:"tidy",value:function(){this.playing=!1,clearInterval(this.tidyInterval),window.removeEventListener("resize",this.onResize),this.element.data=null,this.observer.disconnect()}},{key:"scrollPos",set:function(i){!isNaN(i)&&i!=this.scrollPos&&(this._scrollPos=i,this.top=this.offsetTop-i)},get:function(){return this._scrollPos||-1}},{key:"offsetTop",get:function(){for(var i=this.element,s=0;i.offsetParent;)s+=i.offsetTop,i=i.offsetParent;return s}},{key:"top",set:function(i){!isNaN(i)&&i!=this.top&&(this._top=i,this._top_percentage=(this.windowHeight-i)/this.windowHeight,this._bottom_percentage=(i+this.elementHeight)/this.windowHeight,this._middle_percentage=(this.windowHeight-(i+this.elementHeight*.5))/this.windowHeight,this.runAnimation(this._top_percentage,this._middle_percentage,this._bottom_percentage))},get:function(){return this._top||0}},{key:"playing",set:function(i){this.playing===!1&&i===!0?(requestAnimationFrame(this._onPlay),this._playing=!0):i!==!0&&(this._playing=!1)},get:function(){return this._playing===!0}},{key:"windowHeight",set:function(i){isNaN(i)||(this._windowHeight=i)},get:function(){return this._windowHeight||0}},{key:"elementHeight",get:function(){return this.element.offsetHeight||0}},{key:"isOnScreen",set:function(i){this._isOnScreen=i===!0,i===!0?this.element.classList.add("".concat(this.classPrefix,"--onscreen")):this.element.classList.remove("".concat(this.classPrefix,"--onscreen"))},get:function(){return this._isOnScreen===!0}},{key:"stopTopThreshold",set:function(i){isNaN(i)||(this._stopTopThreshold=Number(i))},get:function(){return this._stopTopThreshold||null}},{key:"classes",get:function(){return this._classList||[]}},{key:"classPrefix",set:function(i){typeof i=="string"&&(this._classPrefix=i),this._classList=["".concat(this.classPrefix,"--on-10"),"".concat(this.classPrefix,"--on-20"),"".concat(this.classPrefix,"--on-30"),"".concat(this.classPrefix,"--on-40"),"".concat(this.classPrefix,"--on-50"),"".concat(this.classPrefix,"--on-60"),"".concat(this.classPrefix,"--on-70"),"".concat(this.classPrefix,"--on-80"),"".concat(this.classPrefix,"--on-90"),"".concat(this.classPrefix,"--on-100"),"".concat(this.classPrefix,"--b-10"),"".concat(this.classPrefix,"--b-20"),"".concat(this.classPrefix,"--b-30"),"".concat(this.classPrefix,"--b-40"),"".concat(this.classPrefix,"--b-50"),"".concat(this.classPrefix,"--b-60"),"".concat(this.classPrefix,"--b-70"),"".concat(this.classPrefix,"--b-80"),"".concat(this.classPrefix,"--b-90"),"".concat(this.classPrefix,"--b-100")]},get:function(){return this._classPrefix||"vp"}},{key:"animationCallback",set:function(i){typeof i=="function"&&(this._animationCallback=i.bind(this))},get:function(){return this._animationCallback||null}}]),e}(ke.default);ke.ExecuteControllers.registerController(Ce,"Viewport");var ni=Ce;vt.default=ni});var Ne=N(gt=>{"use strict";function Vt(n){return(Vt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var oi=ii(mt()),si=ri(Kt());function ri(n){return n&&n.__esModule?n:{default:n}}function Ae(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return Ae=function(){return n},n}function ii(n){if(n&&n.__esModule)return n;if(n===null||Vt(n)!=="object"&&typeof n!="function")return{default:n};var e=Ae();if(e&&e.has(n))return e.get(n);var t,i,s={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&((i=a?Object.getOwnPropertyDescriptor(n,t):null)&&(i.get||i.set)?Object.defineProperty(s,t,i):s[t]=n[t]);return s.default=n,e&&e.set(n,s),s}function ai(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function li(n,e,t){return e&&xe(n.prototype,e),t&&xe(n,t),n}function ci(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Me(n,e)}function Me(n,e){return(Me=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(n,e)}function di(n){var e=hi();return function(){var t,i=Yt(n);return ui(this,e?(t=Yt(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments))}}function ui(n,e){return!e||Vt(e)!=="object"&&typeof e!="function"?W(n):e}function W(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function hi(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function Yt(n){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}var fi={vpOn:0,startAt:null,loopFrom:null,loopTo:null},Ie=function(){ci(e,si.default);var n=di(e);function e(t,i){return ai(this,e),(t=n.call(this,t)).onLoopCheck=t.onLoopCheck.bind(W(t)),t.init=t.init.bind(W(t)),t.onEnded=t.onEnded.bind(W(t)),t.onFrozen=t.onFrozen.bind(W(t)),t.animationCallback=t.viewportAnimationCallback.bind(W(t)),i=Object.assign({},fi,i),t.options={vpOn:t.element.hasAttribute("data-vp-on")?parseInt(t.element.getAttribute("data-vp-on")):i.vpOn,startAt:t.element.hasAttribute("data-autoplay-video--start-at")?parseFloat(t.element.getAttribute("data-autoplay-video--start-at")):i.startAt,loopFrom:t.element.hasAttribute("data-autoplay-video--loop-from")?parseFloat(t.element.getAttribute("data-autoplay-video--loop-from")):i.loopFrom,loopTo:t.element.hasAttribute("data-autoplay-video--loop-to")?parseFloat(t.element.getAttribute("data-autoplay-video--loop-to")):i.loopTo},t.video=t.element.querySelector(".autoplay-video__video"),t.fallback=t.element.querySelector(".autoplay-video__fallback"),t.video.muted=!0,t.video.setAttribute("playsinline",""),t.video.setAttribute("muted",""),isNaN(t.startAt)||t.startAt==null||(t.video.currentTime=t.startAt),navigator&&navigator.connection?navigator.connection.saveData?t.onFrozen(W(t)):2<=t.video.readyState?t.init():t.video.addEventListener("canplay",t.init,!1):(t.video.readyState,t.init()),t.loopTo&&(t.video.loop=!1,t.loopFrom?t.loopPeriod=!0:t.video.addEventListener("ended",t.onEnded,!0)),t.video.addEventListener("error",t.onFrozen,!0),t}return li(e,[{key:"init",value:function(){this.initiated||(this.initiated=!0,this.ratio=this.video.videoWidth/this.video.videoHeight,this.isOnScreen&&this.playVideo())}},{key:"videoResize",value:function(){var t=this.video.parentNode.offsetWidth,i=this.video.parentNode.offsetHeight,s=0,a=0;t/i>this.ratio?a=(s=t)*this.ratio:s=(a=i)*this.ratio,this.video.style.height=a+"px",this.video.style.width=s+"px"}},{key:"onPlay",value:function(){this.element.classList.add("is-playing"),(this.hasStarted=!0)!==this.videoPlaying&&this.loopPeriod===!0&&(this.videoPlaying=!0,requestAnimationFrame(this.onLoopCheck))}},{key:"onFrozen",value:function(){this.element.classList.add("is-frozen"),this.videoPlaying=!1}},{key:"onPause",value:function(){this.element.classList.add("is-paused"),this.hasStarted=!1,this.videoPlaying=!1}},{key:"onEnded",value:function(){this.video.currentTime=this.loopTo,this.video.play()}},{key:"onLoopCheck",value:function(t){this.videoPlaying===!0&&this.loopPeriod===!0&&requestAnimationFrame(this.onLoopCheck),this.video.currentTime>=this.loopFrom&&(this.video.currentTime=this.loopTo)}},{key:"pauseVideo",value:function(){this.video.pause(),this.onPause()}},{key:"playVideo",value:function(){if(2<=this.video.readyState)if(this.video.paused){var t=this.video.play();try{typeof Promise!="undefined"&&Promise.toString().indexOf("[native code]")!==-1&&t&&t instanceof Promise?t.then(this.onPlay.bind(this),this.onFrozen.bind(this)):this.video.paused?this.onFrozen():this.onPlay()}catch(i){this.onFrozen()}}else this.onPlay();else setTimeout(this.playVideo.bind(this),500)}},{key:"viewportAnimationCallback",value:function(t){this.isOnScreen||!this.hasStarted||this.video.paused?t>this.options.vpOn&&this.initiated&&!this.hasStarted&&this.video.paused&&this.playVideo():(this.pauseVideo(),isNaN(this.startAt)||this.startAt==null||(this.video.currentTime=this.startAt))}},{key:"video",set:function(t){t instanceof HTMLElement&&(this._video=t)},get:function(){return this._video||null}},{key:"fallback",set:function(t){t instanceof HTMLElement&&(this._fallback=t)},get:function(){return this._fallback||null}},{key:"hasStarted",set:function(t){this._hasStarted=t===!0},get:function(){return this._hasStarted||!1}},{key:"initiated",set:function(t){this._initiated=t===!0},get:function(){return this._initiated||!1}},{key:"loopPeriod",set:function(t){this._loopPeriod=t===!0},get:function(){return this._loopPeriod||!1}},{key:"videoPlaying",set:function(t){this._videoPlaying=t===!0},get:function(){return this._videoPlaying||!1}},{key:"ratio",set:function(t){isNaN(t)||(this._ratio=t)},get:function(){return this._ratio||null}},{key:"startAt",get:function(){return this.options.startAt||null}},{key:"loopFrom",get:function(){return this.options.loopFrom||null}},{key:"loopTo",get:function(){return this.options.loopTo||null}}]),e}();oi.ExecuteControllers.registerController(Ie,"AutoplayVideo");gt.default=Ie});var Re=N(Gt=>{"use strict";Object.defineProperty(Gt,"__esModule",{value:!0});var pi=function(){function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function mi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var vi=function(){function n(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.debug,i=t===void 0?!1:t;mi(this,n);var s=[],a=0;this.debug=i,this.filesLoading=[],this.callback=function(){},this.addFiles=function(u){s.push(u)},this.getFiles=function(){return s},this.incrementLoadCounter=function(){a++},this.getLoadCounter=function(){return a}}return pi(n,[{key:"add",value:function(t){if(typeof t=="string"||t instanceof String){var i=arguments[1]||"image";this.addFiles({file:t,type:i})}else t.map(this.addFiles)}},{key:"getImageWithPromise",value:function(t){var i=this;return new Promise(function(s,a){var u=new Image;u.onload=function(){i.incrementLoadCounter(),i.debug&&console.log("i'm loaded: "+t.file),s(t)},u.onerror=function(){i.debug&&console.log("file not found: "+t.file),s(t)},u.src=t.file})}},{key:"loadWithPromises",value:function(t){var i=this,s=i.getFiles(),a=s.map(this.getImageWithPromise.bind(this));Promise.all(a).then(function(u){t()}).catch(function(u){i.debug&&(console.log("there was an error:"),console.log("Error Message:"),console.log(u.message),console.log("Error Object:"),console.log(u))})}},{key:"loadWithCallbacks",value:function(t){for(var i=this.getFiles(),s=0;s<i.length;s++)if(!i[s].type||i[s].type=="image"){var a=new Image;a.addEventListener("load",this.onFilesLoaded.bind(this,t),!1),a.addEventListener("error",this.onFilesLoaded.bind(this,t),!1),a.src=i[s].file,this.filesLoading.push(a)}}},{key:"onFilesLoaded",value:function(t){this.debug&&(event.type==="load"?console.log("i'm loaded: "+event.path[0].src):console.log("file not found: "+event.path[0].src)),this.incrementLoadCounter(),this.getLoadCounter()===this.filesLoading.length&&t&&t(this.getFiles())}},{key:"load",value:function(t){window.Promise?this.loadWithPromises(t):this.loadWithCallbacks(t)}}]),n}();Gt.default=vi});var We=N(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var yi=gi(Re()),De=bi(mt());function Be(){if(typeof WeakMap!="function")return null;var n=new WeakMap;return Be=function(){return n},n}function bi(n){if(n&&n.__esModule)return n;if(n===null||jt(n)!=="object"&&typeof n!="function")return{default:n};var e=Be();if(e&&e.has(n))return e.get(n);var t={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if(Object.prototype.hasOwnProperty.call(n,s)){var a=i?Object.getOwnPropertyDescriptor(n,s):null;a&&(a.get||a.set)?Object.defineProperty(t,s,a):t[s]=n[s]}return t.default=n,e&&e.set(n,t),t}function gi(n){return n&&n.__esModule?n:{default:n}}function jt(n){return(jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function $t(n){return Ti(n)||wi(n)||_i()}function _i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function wi(n){if(Symbol.iterator in Object(n)||Object.prototype.toString.call(n)==="[object Arguments]")return Array.from(n)}function Ti(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function Ei(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function qe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Pi(n,e,t){return e&&qe(n.prototype,e),t&&qe(n,t),n}function Si(n,e){return!e||jt(e)!=="object"&&typeof e!="function"?S(n):e}function ze(n){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function S(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ki(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&Fe(n,e)}function Fe(n,e){return(Fe=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(n,e)}var He=function(){function n(e){var t,i=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};if(Ei(this,n),(t=Si(this,ze(n).call(this,e))).options={nav:t.element.getAttribute("data-nav")=="true",debug:t.element.getAttribute("data-debug")=="true",autoplay:t.element.getAttribute("data-autoplay")=="true",delay:0<parseInt(t.element.getAttribute("data-delay"))?parseInt(t.element.getAttribute("data-delay")):5e3,pauseOnHover:t.element.getAttribute("data-pause-on-hover")=="true",loop:t.element.getAttribute("data-loop")=="true",draggable:t.element.getAttribute("data-draggable")=="true",dragThreshold:0<parseInt(t.element.getAttribute("data-drag-threshold"))?parseInt(t.element.getAttribute("data-drag-threshold")):40,pagination:t.element.getAttribute("data-pagination")=="true",paginationTarget:t.element.getAttribute("data-pagination-target")&&1<t.element.getAttribute("data-pagination-target").length?t.element.getAttribute("data-pagination-target"):null,nextBtnMarkup:t.element.getAttribute("data-next-btn-markup")?t.element.getAttribute("data-next-btn-markup"):'Next <span class="visually-hidden">carousel item.</span>',prevBtnMarkup:t.element.getAttribute("data-prev-btn-markup")?t.element.getAttribute("data-prev-btn-markup"):'Previous <span class="visually-hidden">carousel item.</span>',liveRegionText:t.element.getAttribute("data-live-region-text")?t.element.getAttribute("data-live-region-text"):"Active carousel item",onLoad:null,onWillChange:null,onHasChanged:null},i&&(t.options=Object.assign({},t.options,i)),t.wrapper=t.element.querySelector("ul"),t.items=$t(t.wrapper.children),t.overlay=document.createElement("div"),t.currentItem=t.items[0],t.currentIndex=0,t.handleVisibilityChange=t.handleVisibilityChange.bind(S(t)),t.options.nav&&(t.nextBtn=document.createElement("button"),t.nextBtn.innerHTML=t.options.nextBtnMarkup,t.prevBtn=document.createElement("button"),t.prevBtn.innerHTML=t.options.prevBtnMarkup,t.nextBtn.className="gallery__nav gallery__nav-next",t.prevBtn.className="gallery__nav gallery__nav-prev",t.nextBtn.addEventListener("click",t.next.bind(S(t))),t.prevBtn.addEventListener("click",t.prev.bind(S(t))),t.wrapper.insertAdjacentElement("afterend",t.nextBtn),t.wrapper.insertAdjacentElement("afterend",t.prevBtn)),t.options.pagination){var s;if(t.options.paginationTarget)$t((s=document.querySelector(t.options.paginationTarget)).children).forEach(function(P,M){P.classList.add("gallery__pagination-item"),P.dataset.index||(P.dataset.index=M),M===0&&P.classList.add("is-active"),P.addEventListener("click",t.handlePagination.bind(S(t)))});else{var a=0,u=t.items.length;for(s=document.createElement("ul");a<u;a++){var d=document.createElement("li"),p=document.createElement("button"),_=document.createTextNode(a+1);d.classList.add("gallery__pagination-item"),(d.dataset.index=a)===0&&d.classList.add("is-active"),d.addEventListener("click",t.handlePagination.bind(S(t))),p.appendChild(_),d.appendChild(p),s.appendChild(d)}t.element.appendChild(s)}t.paginationList=s,t.paginationItems=$t(t.paginationList.children),s.classList.add("gallery__pagination")}t.liveRegion=null,t.options.liveRegionText&&(t.liveRegion=document.createElement("p"),t.liveRegion.setAttribute("aria-live","polite"),t.liveRegion.classList.add("visually-hidden"),t.element.insertAdjacentElement("afterbegin",t.liveRegion)),t.options.pauseOnHover&&(window.PointerEvent?(e.addEventListener("pointerover",t.pause.bind(S(t)),!1),e.addEventListener("pointerout",t.resume.bind(S(t)),!1)):(e.addEventListener("mouseenter",t.pause.bind(S(t)),!1),e.addEventListener("mouseleave",t.resume.bind(S(t)),!1))),t.options.draggable&&(t.dragStartX=null,e.addEventListener("mousedown",t.draggablePointerDown.bind(S(t)),!1),e.addEventListener("touchstart",t.draggablePointerDown.bind(S(t)),!1),e.addEventListener("mouseup",t.draggablePointerUp.bind(S(t)),!1),e.addEventListener("touchend",t.draggablePointerUp.bind(S(t)),!1)),t.element.classList.add("gallery"),t.overlay.classList.add("gallery__overlay"),t.wrapper.classList.add("gallery__wrapper"),t.items.forEach(function(P,M){if(P.classList.add("gallery__item"),P.dataset.index=M,P.setAttribute("tabindex",-1),t.currentIndex!==M){var kt=P.querySelectorAll("button, [href], [tabindex]"),G=!0,ut=!1,j=void 0;try{for(var ht,it=kt[Symbol.iterator]();!(G=(ht=it.next()).done);G=!0)ht.value.setAttribute("tabindex",-1)}catch(Lt){ut=!0,j=Lt}finally{try{G||it.return==null||it.return()}finally{if(ut)throw j}}P.setAttribute("aria-hidden","true")}P.addEventListener("transitionend",t.itemTransitioned.bind(S(t),P))}),t.currentItem.classList.add("is-active"),t.element.classList.add("is-loading"),t.element.appendChild(t.overlay);var h=t.wrapper.querySelectorAll("img");if(0<h.length){var m=new yi.default({debug:t.options.debug}),b=!0,g=!1,z=void 0;try{for(var F,x=h[Symbol.iterator]();!(b=(F=x.next()).done);b=!0){var Y=F.value;m.add(Y.getAttribute("src"),"image")}}catch(P){g=!0,z=P}finally{try{b||x.return==null||x.return()}finally{if(g)throw z}}m.load(t.loaded.bind(S(t)))}else t.loaded();return t}return ki(n,De.default),Pi(n,[{key:"handlePagination",value:function(e){var t=e.target.closest(".gallery__pagination-item");if(t){var i=+t.dataset.index;this.paginationItems.forEach(function(s,a){i===a?s.classList.add("is-active"):s.classList.remove("is-active")}),this.moveByIndex(i),this.currentItem.focus()}}},{key:"draggablePointerDown",value:function(e){if(!e.target.closest("button")){e.preventDefault();var t=e.clientX||e.touches[0].clientX;this.dragStartX=t}}},{key:"draggablePointerUp",value:function(e){if(!e.target.closest("button")&&!e.target.closest("[href]")){e.preventDefault();var t=e.clientX||e.changedTouches[0].clientX;Math.abs(t-this.dragStartX)>this.options.dragThreshold&&(t>this.dragStartX?this.prev():this.next())}}},{key:"resize",value:function(){var e=0,t=!0,i=!1,s=void 0;try{for(var a,u=this.items[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var d=a.value.offsetHeight;e<d&&(e=d)}}catch(p){i=!0,s=p}finally{try{t||u.return==null||u.return()}finally{if(i)throw s}}return this.wrapper.style.height="".concat(e,"px"),this}},{key:"handleAutoplay",value:function(){this.options.autoplay&&(document.visibilityState==="hidden"?(this.pause(),document.addEventListener("visibilitychange",this.handleVisibilityChange)):this.player=setTimeout(this.next.bind(this),this.options.delay))}},{key:"handleVisibilityChange",value:function(){this.options.autoplay&&document.visibilityState!=="hidden"&&(document.removeEventListener("visibilitychange",this.handleVisibilityChange),this.handleAutoplay())}},{key:"loaded",value:function(){return window.addEventListener("resize",this.resize.bind(this)),this.resize(),this.element.classList.remove("is-loading"),this.element.classList.add("is-loaded"),this.options.autoplay&&this.handleAutoplay(),this.options.nav&&!this.options.loop&&this.currentIndex==0&&this.prevBtn.setAttribute("disabled",!0),typeof this.options.onLoad=="function"&&this.options.onLoad(this),this}},{key:"itemTransitioned",value:function(e){return e.classList.remove("is-transitioning"),e.classList.remove("is-transitioning--center"),e.classList.remove("is-transitioning--backward"),e.classList.remove("is-transitioning--forward"),this}},{key:"moveByIndex",value:function(e){var t=this.items[e];if(this.options.autoplay&&clearTimeout(this.player),t){if(this.currentItem!=t&&(this.currentItem.setAttribute("aria-hidden","true"),t.removeAttribute("aria-hidden"),t.classList.add("is-active"),t.classList.add("is-transitioning"),t.classList.add("is-transitioning--center"),this.currentItem.classList.remove("is-active")),this.options.pagination){var i=!0,s=!1,a=void 0;try{for(var u,d=this.paginationItems[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var p=u.value;p.dataset.index==e?p.classList.add("is-active"):p.classList.remove("is-active")}}catch(h){s=!0,a=h}finally{try{i||d.return==null||d.return()}finally{if(s)throw a}}}this.liveRegion&&this.options.liveRegionText&&(this.liveRegion.innerHTML="".concat(this.options.liveRegionText,": ").concat(e+1," of ").concat(this.items.length,"."));var _=this.currentItem;return this.currentItem=t,this.currentIndex=e,!this.options.loop&&this.options.nav&&(this.currentIndex==this.items.length-1?(this.nextBtn.setAttribute("disabled",!0),this.prevBtn.removeAttribute("disabled")):this.currentIndex==0?(this.prevBtn.setAttribute("disabled",!0),this.nextBtn.removeAttribute("disabled")):(this.nextBtn.removeAttribute("disabled"),this.prevBtn.removeAttribute("disabled"))),typeof this.options.onHasChanged=="function"&&this.options.onHasChanged(this.currentItem,_,this),this.options.autoplay&&this.handleAutoplay(),this}console.warn("No item with index: "+e)}},{key:"move",value:function(e){var t=!(0<arguments.length&&e!==void 0)||e;this.options.autoplay&&clearTimeout(this.player);var i=t?this.currentItem.nextElementSibling:this.currentItem.previousElementSibling;(i=i||(t?this.items[0]:this.items[this.items.length-1])).classList.add("is-active"),i.classList.add("is-transitioning"),i.classList.add("is-transitioning--center"),this.currentItem.classList.remove("is-active"),this.currentItem.setAttribute("aria-hidden","true"),i.removeAttribute("aria-hidden"),this.options.pagination&&this.paginationItems.forEach(function(a,u){u==i.dataset.index?a.classList.add("is-active"):a.classList.remove("is-active")});var s=this.currentItem;this.currentItem=i,this.currentIndex=+i.dataset.index,!this.options.loop&&this.options.nav&&(this.currentIndex==this.items.length-1?(this.nextBtn.setAttribute("disabled",!0),this.prevBtn.removeAttribute("disabled")):this.currentIndex==0?(this.prevBtn.setAttribute("disabled",!0),this.nextBtn.removeAttribute("disabled")):(this.nextBtn.removeAttribute("disabled"),this.prevBtn.removeAttribute("disabled"))),typeof this.options.onHasChanged=="function"&&this.options.onHasChanged(this.currentItem,s,this),this.options.autoplay?this.handleAutoplay():this.liveRegion&&this.options.liveRegionText&&(this.liveRegion.innerHTML="".concat(this.options.liveRegionText,": ").concat(this.currentIndex+1," of ").concat(this.items.length,"."))}},{key:"next",value:function(){return this.currentIndex=parseInt(this.currentItem.dataset.index),typeof this.options.onWillChange=="function"&&this.options.onWillChange(this,!0),this.currentItem.classList.remove("is-transitioning--center"),this.currentItem.classList.add("is-transitioning"),this.currentItem.classList.add("is-transitioning--backward"),this.move(),this}},{key:"prev",value:function(){return this.currentIndex=this.currentItem.dataset.index,typeof this.options.onWillChange=="function"&&this.options.onWillChange(this,!1),this.currentItem.classList.remove("is-transitioning--center"),this.currentItem.classList.add("is-transitioning"),this.currentItem.classList.add("is-transitioning--forward"),this.move(!1),this}},{key:"pause",value:function(){return this.options.autoplay&&clearTimeout(this.player),this}},{key:"resume",value:function(){return this.options.autoplay&&this.handleAutoplay(),this}},{key:"active",get:function(){return this.currentItem}},{key:"activeIndex",get:function(){return this.currentIndex}}]),n}();De.ExecuteControllers.registerController(He,"Gallery");var Li=He;yt.default=Li});var ne=N(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});var Fi=function(){function n(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}();function Hi(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var X=new Map;X.set("S",1);X.set("M",2);X.set("L",3);X.set("XL",4);X.set("XXL",5);var Ge=function(){function n(){Hi(this,n)}return Fi(n,null,[{key:"current",get:function(){return X.get(getComputedStyle(document.querySelector("body"),"::after").content.replace(/'|"/gi,""))}}]),n}();Ge.BREAKPOINTS=X;ee.default=Ge});var pn=N(et=>{"use strict";function an(n){return(an=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function ln(n,e,t){return(ln=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(i,s,a){var u=so(i,s);if(u){var d=Object.getOwnPropertyDescriptor(u,s);return d.get?d.get.call(a):d.value}})(n,e,t||n)}function so(n,e){for(;!Object.prototype.hasOwnProperty.call(n,e)&&(n=ct(n))!==null;);return n}function ao(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&cn(n,e)}function cn(n,e){return(cn=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(n,e)}function uo(n){var e=co();return function(){var t,i=ct(n);return lo(this,e?(t=ct(this).constructor,Reflect.construct(i,arguments,t)):i.apply(this,arguments))}}function lo(n,e){return!e||an(e)!=="object"&&typeof e!="function"?q(n):e}function q(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function co(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function ct(n){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(n)}function un(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function hn(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function dn(n,e,t){return e&&hn(n.prototype,e),t&&hn(n,t),n}Object.defineProperty(et,"__esModule",{value:!0}),et.ClickablePerspectiveCard=et.default=void 0;var Ho="ontouchstart"in window||navigator.msMaxTouchPoints,ho=.001,re=function(n,e,t,i){return(n/=i/2)<1?.5*t*n*n*n+e:.5*t*((n-=2)*n*n+2)+e},fo=function(n,e,t,i){return-t/2*(Math.cos(Math.PI*n/i)-1)+e},fn=function(){function n(e){var t,i,s=this,a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};un(this,n),this.element=e,this.debug=a.debug||this.element.hasAttribute("data-debug")||!1,this.zoomSize=a.zoom||parseInt(this.element.getAttribute("data-zoom"))||40,this.intensity=a.intensity||parseInt(this.element.getAttribute("data-intensity"))||10,this.ambient=-1,a.ambient!==void 0&&a.ambient!==!1?(t=a.ambient,this.ambient=t===!0?0:t):!this.element.hasAttribute("data-ambient")||(i=this.element.getAttribute("data-ambient"))!=="false"&&(this.ambient=i===""||i==="true"?0:parseInt(i)),this.transformer=this.element.querySelector(".perspective-card__transformer"),this.shine=this.element.querySelector(".perspective-card__shine"),this.resize=this.resize.bind(this),this.updatePosition=this.updatePosition.bind(this),this.touchStart=this.touchStart.bind(this),this.touchEnd=this.touchEnd.bind(this),this.pointerMove=this.pointerMove.bind(this),this.pointerEnter=this.pointerEnter.bind(this),this.pointerLeave=this.pointerLeave.bind(this),this.play=this.play.bind(this),this.intersect=this.intersect.bind(this),this.hideIntersect=this.hideIntersect.bind(this),window.addEventListener("resize",this.resize),window.addEventListener("scroll",this.resize),this.element.addEventListener("pointerenter",this.pointerEnter),this.element.addEventListener("pointerleave",this.pointerLeave),this.element.addEventListener("touchstart",this.touchStart),this.element.addEventListener("touchend",this.touchEnd),0<=this.ambient?(this.observer=new IntersectionObserver(this.intersect,{rootMargin:"0%",threshold:[.1]}),this.observer.observe(this.element)):(this.element.classList.add("intersection-off"),this.observer=new IntersectionObserver(this.hideIntersect,{rootMargin:"100px"}),setTimeout(function(){s.observer.observe(s.element.parentNode)},0)),this.resize()}return dn(n,[{key:"play",value:function(e,t){var i,s,a,u,d,p,_,h,m,b=!(1<arguments.length&&t!==void 0)||t;this.playing&&b===!0&&requestAnimationFrame(this.play),this.lastFrameTime=Math.max(16,Math.min(32,e-this.lastDelta)),this.motionOff||(this.lastDelta=e,this.delta+=this.lastFrameTime,i=1/this.lastFrameTime,this.pointerControlled||(s=1e-4*this.delta+this.ambient,a=Math.sin(2*s),u=Math.cos(.5*s),d=10*this.intensity*Math.cos(3.542*s+1234.5),this.tPoint=[u*d,a*d,this.tPoint[2]]),Math.abs(this.zoom-this.center[2])>ho&&(this.center=[this.center[0],this.center[1],this.center[2]+(this.zoom-this.center[2])*(2*i)]),2<this._lookDifferential&&(this.lookPoint=[this.lookPoint[0]+(this.tPoint[0]-this.lookPoint[0])*(2*i),this.lookPoint[1]+(this.tPoint[1]-this.lookPoint[1])*(2*i),this.lookPoint[2]+(this.tPoint[2]-this.lookPoint[2])*(2*i)]),p=n.targetTo(this.center,this.lookPoint,[0,1,0]),_=Math.atan2(this.lookPoint[1],this.lookPoint[0])+.5*Math.PI,h=Math.hypot(this.lookPoint[0],this.lookPoint[1]),m="matrix3d(".concat(p[0],",").concat(p[1],",").concat(p[2],",").concat(p[3],",").concat(p[4],",").concat(p[5],",").concat(p[6],",").concat(p[7],",").concat(p[8],",").concat(p[9],",").concat(p[10],",").concat(p[11],",").concat(p[12],",").concat(p[13],",").concat(p[14],",").concat(p[15],")"),this.transformer.style.transform=m,this.shine.style.background="linear-gradient(".concat(_,"rad, rgba(255,255,255,").concat(Math.max(.01,Math.abs(.002*h)),") 0%, rgba(255,255,255,").concat(Math.max(.01,Math.abs(.002*h)),") 5%, rgba(255,255,255,0) 80%)"))}},{key:"calculateLookDifferential",value:function(){var e=[this.lookPoint[0]-this.tPoint[0],this.lookPoint[1]-this.tPoint[1],this.lookPoint[2]-this.tPoint[2]];this._lookDifferential=e[0]*e[0]+e[1]*e[1]+e[2]*e[2]}},{key:"touchStart",value:function(){this.touching=!0}},{key:"touchEnd",value:function(){this.touching=!1}},{key:"pointerMove",value:function(e){this.touching!==!0&&(this.tPoint=[e.clientX-this.axis[0],e.clientY-this.axis[1],this.tPoint[2]])}},{key:"pointerEnter",value:function(){this.touching!==!0&&(this.pointerControlled=!0,this.zoom=this.zoomSize,this.element.classList.add("perspective-card--over"),this.ambient<0&&(this.playing=!0))}},{key:"pointerLeave",value:function(){var e=this;this.pointerControlled=!1,this.zoom=0,this.element.classList.remove("perspective-card--over"),this.ambient<0&&(this.playing=!1,setTimeout(function(){e.transformer.style.transform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)",e.shine.style.background="none"},100))}},{key:"updatePosition",value:function(){var e=this.element.getBoundingClientRect();this.enlarged===!1&&(this.startingDimensions=[e.width,e.height]),this.position=[e.left,e.top],this.size=[e.width,e.height],this.axis=[this.position[0]+.5*this.size[0],this.position[1]+.5*this.size[1]]}},{key:"resize",value:function(){clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(this.updatePosition,300)}},{key:"intersect",value:function(e){var t=this;e.forEach(function(i,s){i.isIntersecting?t.playing=!0:t.playing=!1})}},{key:"hideIntersect",value:function(e){var t=this;e.forEach(function(i,s){i.isIntersecting?t.element.classList.remove("intersection-off"):t.element.classList.add("intersection-off")})}},{key:"motionOff",set:function(e){this._motionOff=e===!0},get:function(){return this._motionOff===!0}},{key:"element",set:function(e){e instanceof HTMLElement&&(this._element=e)},get:function(){return this._element||null}},{key:"position",set:function(e){e instanceof Array&&2<=e.length&&(this._position=e)},get:function(){return this._position||[0,0]}},{key:"tPoint",set:function(e){e instanceof Array&&3<=e.length&&(this._tPoint=e,this.calculateLookDifferential())},get:function(){return this._tPoint||[0,0,-800]}},{key:"lookPoint",set:function(e){e instanceof Array&&3<=e.length&&(this.calculateLookDifferential(),this._lookPoint=e)},get:function(){return this._lookPoint||[0,0,-800]}},{key:"center",set:function(e){e instanceof Array&&3<=e.length&&(this._center=e)},get:function(){return this._center||[0,0,0]}},{key:"zoom",set:function(e){isNaN(e)||(this._zoom=e)},get:function(){return this._zoom||0}},{key:"zoomSize",set:function(e){isNaN(e)||(this._zoomSize=e)},get:function(){return this._zoomSize||40}},{key:"intensity",set:function(e){isNaN(e)||(this._intensity=e)},get:function(){return this._intensity||10}},{key:"size",set:function(e){e instanceof Array&&2<=e.length&&(this._size=e)},get:function(){return this._size||[0,0]}},{key:"debug",set:function(e){this._debug=e},get:function(){return this._debug||!1}},{key:"ambient",set:function(e){this._ambient=e},get:function(){return this._ambient||!1}},{key:"axis",set:function(e){e instanceof Array&&2<=e.length&&(this._axis=e)},get:function(){return this._axis||[0,0]}},{key:"playing",set:function(e){this.playing||e!==!0||(this.lastFrameTime=0,requestAnimationFrame(this.play)),this._playing=e===!0},get:function(){return this._playing===!0}},{key:"lastFrameTime",set:function(e){isNaN(e)||(this._lastframeTime=e)},get:function(){return this._lastframeTime||0}},{key:"delta",set:function(e){isNaN(e)||(this._delta=e)},get:function(){return this._delta||0}},{key:"lastDelta",set:function(e){isNaN(e)||(this._lastDelta=e)},get:function(){return this._lastDelta||0}},{key:"pointerControlled",set:function(e){this.pointerControlled||e!==!0?this.pointerControlled&&e===!1&&window.removeEventListener("pointermove",this.pointerMove):window.addEventListener("pointermove",this.pointerMove),this._pointerControlled=e===!0},get:function(){return this._pointerControlled===!0}}],[{key:"targetTo",value:function(e,t,i){if(e.array&&(e=e.array),t.array&&(t=t.array),i.array&&(i=i.array),e.length&&3<=e.length&&t.length&&3<=t.length&&i.length&&3<=i.length){var s={x:e[0],y:e[1],z:e[2]},a=t[0],u=t[1],d=t[2],p=i[0],_=i[1],h=i[2],m={x:s.x-a,y:s.y-u,z:s.z-d},b=m.x*m.x+m.y*m.y+m.z*m.z;0<b&&(b=1/Math.sqrt(b),m.x*=b,m.y*=b,m.z*=b);var g={x:_*m.z-h*m.y,y:h*m.x-p*m.z,z:p*m.y-_*m.x};return 0<(b=g.x*g.x+g.y*g.y+g.z*g.z)&&(b=1/Math.sqrt(b),g.x*=b,g.y*=b,g.z*=b),[g.x,g.y,g.z,0,m.y*g.z-m.z*g.y,m.z*g.x-m.x*g.z,m.x*g.y-m.y*g.x,0,m.x,m.y,m.z,0,s.x,s.y,s.z,1]}}}]),n}();et.default=fn;var po=function(){ao(e,fn);var n=uo(e);function e(t,i){var s;return un(this,e),s=n.call(this,t,i),window.clickablePerspectiveCard_initialtouch=null,s.onClick=s.onClick.bind(q(s)),s.onKey=s.onKey.bind(q(s)),s.onPointerDown=s.onPointerDown.bind(q(s)),s.onTouchStart=s.onTouchStart.bind(q(s)),s.onTouchEnd=s.onTouchEnd.bind(q(s)),s.onTouchMove=s.onTouchMove.bind(q(s)),s.onPointerMove=s.onPointerMove.bind(q(s)),s._tweenBuffer=!1,s._pointerMoving=!1,s._pointerMovingPos=0,s._pointerStartPos,s.matte=document.createElement("div"),s.matte.className="perspective-card--matte",s.element.addEventListener("touchstart",s.onTouchStart),s.element.addEventListener("touchend",s.onTouchEnd),s.element.addEventListener("pointerdown",s.onPointerDown),s.element.addEventListener("pointerup",s.onClick),s.matte.addEventListener("pointerup",s.onClick),s.matte.addEventListener("pointerdown",s.onPointerDown),s.matte.addEventListener("touchmove",s.onTouchMove),s.element.addEventListener("pointermove",s.onPointerMove),s}return dn(e,[{key:"resize",value:function(t,i){1<arguments.length&&i!==void 0&&i?this.updatePosition():(clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(this.updatePosition,300))}},{key:"play",value:function(t,i){var s,a,u=!(1<arguments.length&&i!==void 0)||i;ln(ct(e.prototype),"play",this).call(this,t,u),this.tweenTime<this.tweenDuration&&this.tweening===!0?(this.screenPosition=[re(this.tweenTime,this.startingPosition[0],this.targetPosition[0]-this.startingPosition[0],this.tweenDuration),re(this.tweenTime,this.startingPosition[1],this.targetPosition[1]-this.startingPosition[1],this.tweenDuration)],this.screenScale=re(this.tweenTime,this.startingScale,this.targetScale-this.startingScale,this.tweenDuration),s=fo(this.tweenTime,.5*Math.PI,this.rotationAmount,this.tweenDuration),a=[-800*Math.cos(s),-800*Math.sin(s)],this.lookPoint=[a[0],this.lookPoint[1],a[1]],this.tweenTime+=this.lastFrameTime):this.tweening===!0&&(this.screenPosition=this.targetPosition,this.tweening=!1,this.resize(),this.onEndTween())}},{key:"onClick",value:function(t){this.resize(null,!0),window.cardClickEsc!=1&&window.clickablePerspectiveCard_initialtouch===t.pointerId&&this._tweenBuffer===!1&&(this.enlarged=!this.enlarged),window.clickablePerspectiveCard_initialtouch=null,window.cardClickEsc=!1}},{key:"onTouchMove",value:function(t){t.targetTouches.length===1&&t.preventDefault()}},{key:"onTouchStart",value:function(){var t=this;this.touching=!0,setTimeout(function(){t.touching===!0&&(window.cardClickEsc=!0)},300)}},{key:"onTouchEnd",value:function(){this.touching=!1,setTimeout(function(){return window.cardClickEsc=!1},0)}},{key:"onPointerMove",value:function(t){var i=this;this._pointerMoving||(window.requestAnimationFrame(function(){i._pointerMovingPos=t.y,i._pointerMoving=!1}),this._pointerMoving=!0)}},{key:"onPointerDown",value:function(t){window.clickablePerspectiveCard_initialtouch===null&&this._tweenBuffer===!1&&(window.clickablePerspectiveCard_initialtouch=t.pointerId)}},{key:"onKey",value:function(t){t.keyCode===27&&(this.enlarged=!1)}},{key:"enlarged",set:function(t){var i,s,a,u,d,p=this;this.tweening!==!0&&(i=this.enlarged,this._enlarged=t===!0,this.enlarged===!0&&i===!1?(window.addEventListener("keyup",this.onKey),s=this.element.getBoundingClientRect(),this._wasAmbient=this.ambient,this.ambient=0,document.body.style.overflow="hidden",["MacIntel","iPhone","iPad","Android"].indexOf(navigator.platform)===-1&&(document.body.style.paddingRight="15px"),this.element.style.position="fixed",this.element.classList.add("perspective-card--modal"),setTimeout(function(){p.matte.classList.add("perspective-card--modal")},0),document.body.appendChild(this.matte),this.tweening=!0,this.tweenTime=0,this.tweenDuration=1500,this.startingPosition=[s.left,s.top],this.startingScale=1,this.screenScale=1,window.innerWidth/window.innerHeight<this.startingDimensions[0]/this.startingDimensions[1]?(a=.7*window.innerWidth,this.targetScale=a/this.startingDimensions[0]):(u=.7*window.innerHeight,this.targetScale=u/this.startingDimensions[1]),this.screenPosition=[s.left,s.top],this.targetPosition=[.5*window.innerWidth-.5*this.startingDimensions[0],.5*window.innerHeight-.5*this.startingDimensions[1]],this.rotationAmount=-2*Math.PI,this.onEndTween=function(){this.element.classList.add("perspective-card--is-open")}):this.enlarged===!1&&i===!0&&(window.removeEventListener("keyup",this.onKey),this.element.classList.remove("perspective-card--is-open"),this.matte.classList.remove("perspective-card--modal"),this.tweening=!0,this.tweenTime=0,this.tweenDuration=1e3,d=this.startingPosition,this.startingPosition=this.targetPosition,this.targetPosition=d,this.startingScale=this.screenScale,this.targetScale=1,this.rotationAmount=2*Math.PI,this.onEndTween=function(){var _=this;document.body.style.overflow="",document.body.style.paddingRight="",document.body.removeChild(this.matte),this.element.classList.remove("perspective-card--modal"),this.element.style.position="",this.screenPosition=[0,0],this.element.style.left="",this.element.style.top="",setTimeout(function(){_.transformer.style.transform="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)"},100),this._wasAmbient<0&&(this.ambient=-1),this.pointerControlled===!1&&(this.playing=!1)}))},get:function(){return this._enlarged===!0}},{key:"tweening",set:function(t){var i=this;t!==this._tweening&&(this._tweenBuffer=!0,setTimeout(function(){i._tweenBuffer=!1},1e3)),this._tweening=t===!0},get:function(){return this._tweening===!0}},{key:"tweenTime",set:function(t){isNaN(t)||(this._tweenTime=t)},get:function(){return this._tweenTime||0}},{key:"tweenDuration",set:function(t){isNaN(t)||(this._tweenDuration=t)},get:function(){return this._tweenDuration||0}},{key:"onEndTween",set:function(t){t instanceof Function&&(this._onEndTween=t.bind(this))},get:function(){return this._onEndTween||function(){}}},{key:"targetPosition",set:function(t){t instanceof Array&&2<=t.length&&(this._targetPosition=t)},get:function(){return this._targetPosition||[0,0]}},{key:"screenPosition",set:function(t){t instanceof Array&&2<=t.length&&(this._screenPosition=t,this.element.style.left="".concat(t[0],"px"),this.element.style.top="".concat(t[1],"px"))},get:function(){return this._screenPosition||[0,0]}},{key:"screenScale",set:function(t){isNaN(t)||(this._screenScale=t,this.element.style.transform="scale(".concat(t,")"))},get:function(){return this._screenScale||1}},{key:"targetDimensions",set:function(t){t instanceof Array&&2<=t.length&&(this._targetDimensions=t)},get:function(){return this._targetDimensions||[0,0]}}]),e}();et.ClickablePerspectiveCard=po});var Xo=H(Te()),wn=H(Kt()),Tn=H(Ne()),nt=H(We());function Ue(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}var Oi=function(){function n(){var a=this;this.state=!1,this.modal=document.createElement("div"),this.modalOverlay=document.createElement("div"),this.modalFocusStart=document.createElement("div"),this.modalFocusEnd=document.createElement("div"),this.modalClose=document.createElement("button"),this.modalClose.innerHTML="<span>Close</span>",this.modalWrapper=document.createElement("div"),this.modalContent=document.createElement("div"),this.wrapperOfContent=document.createElement("div"),this.className="modal",this.classNameOpen="modal--open",this.appended=!1,this.storeContent=!1,this.inOutDuration=400,this._onOpen=null,this._onClose=null,this._onCloseStart=null,this._focusOnClose=null,this._content=null,this.modal.classList.add(this.className),this.modalOverlay.classList.add(this.className+"__overlay"),this.modalFocusStart.classList.add(this.className+"__focus-start"),this.modalFocusEnd.classList.add(this.className+"__focus-end"),this.modalClose.classList.add(this.className+"__close"),this.modalWrapper.classList.add(this.className+"__wrapper"),this.modalContent.classList.add(this.className+"__content"),this.wrapperOfContent.classList.add(this.className+"-content-wrapper"),this.modal.setAttribute("role","dialog"),this.modalFocusEnd.setAttribute("tabindex",0),this.modalFocusStart.setAttribute("tabindex",0),this.modalContent.setAttribute("tabindex",-1),this.modalWrapper.appendChild(this.modalFocusStart),this.modalWrapper.appendChild(this.modalClose),this.modalWrapper.appendChild(this.modalContent),this.modalWrapper.appendChild(this.modalFocusEnd),this.modal.appendChild(this.modalOverlay),this.modal.appendChild(this.modalWrapper),document.body.appendChild(this.wrapperOfContent),this.modalFocusEnd.addEventListener("focus",function(){a.modalClose.focus()}),this.modalFocusStart.addEventListener("focus",this.focusLastElement.bind(this)),this.modalClose.addEventListener("click",this.close.bind(this)),this.modalOverlay.addEventListener("click",this.close.bind(this))}var e,t,i,s=n.prototype;return s.close=function(){var a=this;this.state&&(this._onCloseStart?this._onCloseStart(this.modal,function(){a._completeClose()}):this._completeClose())},s._completeClose=function(){var a=this;this.state&&(this.modal.classList.remove(this.classNameOpen),this.focusOnClose&&this.focusOnClose.focus(),setTimeout(function(){var u;a.state=!1,a.modal.style.display="none",a.optionalClass&&(typeof a.optionalClass=="string"?a.modal.classList.remove(a.optionalClass):a.optionalClass instanceof Array&&(u=a.modal.classList).remove.apply(u,a.optionalClass)),a.storeContent?a.wrapperOfContent.appendChild(a._content):a.modalContent.innerHTML="",a.onClose&&a.onClose()},this.inOutDuration),n.hash&&history.replaceState("",document.title,window.location.pathname))},s.open=function(){var a=this;if(!this.state){var u;this.optionalClass&&(typeof this.optionalClass=="string"?this.modal.classList.add(this.optionalClass):this.optionalClass instanceof Array&&(u=this.modal.classList).add.apply(u,this.optionalClass)),document.body.appendChild(this.modal);var d=this.appended?0:100;this.appended||(this.appended=!0),this.modalContent.append(this._content),this.modal.style.display="block",setTimeout(function(){a.modal.classList.add(a.classNameOpen),a.focusFirstElement(),a.onOpen&&a.onOpen(a.modal)},d),this.state=!0,document.addEventListener("keydown",function p(_){_.keyCode==27&&(a.close(),document.removeEventListener("keydown",p.bind(a),!1))}.bind(this),!1)}},s.focusFirstElement=function(){var a=function u(d){return d.firstElementChild?u(d.firstElementChild):d}(this.modalContent.firstElementChild);a.setAttribute("tabindex",-1),a.focus()},s.focusLastElement=function(){var a=this.modalContent.querySelectorAll('[href], button, [tabindex="0"], [role="button"]');a.length>0?a[a.length-1].focus():this.modalClose.focus()},e=n,i=[{key:"hash",get:function(){var a=/#\!?\/(.+)\//i.exec(window.location.hash);return a&&a.length>1?a[1]:null}}],(t=[{key:"focusOnClose",get:function(){return this._focusOnClose},set:function(a){!a instanceof HTMLButtonElement&&!a instanceof HTMLAnchorElement&&!a.getAttribute("tabindex")||(this._focusOnClose=a)}},{key:"onOpen",get:function(){return this._onOpen},set:function(a){a&&typeof a=="function"&&(this._onOpen=a)}},{key:"onClose",get:function(){return this._onClose},set:function(a){a&&typeof a=="function"&&(this._onClose=a)}},{key:"onCloseStart",get:function(){return this._onCloseStart},set:function(a){a&&typeof a=="function"&&(this._onCloseStart=a)}},{key:"optionalClass",set:function(a){a&&(this._optionalClass=a)},get:function(){return this._optionalClass||""}},{key:"closeButtonContent",set:function(a){if(a){if(typeof a!="string")return a instanceof HTMLElement?(this.modalClose.innerHTML="",void this.modalClose.appendChild(a)):void 0;this.modalClose.innerHTML=a}}},{key:"content",set:function(a){if(a&&!(typeof a!="string"&&!a instanceof HTMLElement)){if(this.storeContent&&this.wrapperOfContent.appendChild(this._content),this._content=a,typeof a!="string")return this.storeContent=!0,this.modalContent.innerHTML="",void this.modalContent.appendChild(this._content);this.storeContent=!1,this.modalContent.innerHTML=this._content}}}])&&Ue(e.prototype,t),i&&Ue(e,i),n}(),Q=Oi;var J=new Q,Qt=document.getElementById("locale-switcher-modal"),Ci=Qt.querySelectorAll(".locale-switcher-modal__list-item a"),Ai=document.documentElement.lang,Xe=window.location.pathname,xi=Xe.indexOf(Ai),Mi=Xe.slice(xi+6);J.optionalClass="locale-switcher-modal";J.optionalClass="modal--full";J.closeButtonContent=`
  <span class="button button--white">
    <span class="button__bg" aria-hidden="true"></span>
    <span class="button__content">
      <span class="button__txt">
        <span class="visually-hidden">Continue</span>
        <svg class="icon icon--close" aria-hidden="true" width="17" height="18"><use xlink:href="#icon-close"></use></svg>
      </span>
    </span>
  </span>
`;J.content=Qt;var Ii=function(n){J.focusOnClose=n.currentTarget,J.open()},Ni=async function(n=".locale-switcher"){if(!Qt||typeof n=="object"&&n.length<=0)return;let e=JSON.parse(localStorage.getItem("tpci-localeCache"))||{};for(let i of Ci){let s=i.href+Mi,a;e[s]?a=e[s]:(a=(await fetch(s)).status,e[s]=a),a===200&&(i.href=s)}localStorage.setItem("tpci-localeCache",JSON.stringify(e));let t=typeof n=="string"?document.querySelectorAll(n):n;if(!!t)for(let i of t)i.addEventListener("click",Ii)},Ke=Ni;var bt=document.getElementById("leaving-site-modal"),Ri=bt.querySelector(".leaving-site-modal__cta"),Jt=document.getElementById("leaving-site-modal-shop"),Di=Jt.querySelector(".leaving-site-modal__cta"),U=new Q;U.optionalClass="leaving-site-modal";U.optionalClass="modal--full";U.closeButtonContent=`
  <span class="button button--white">
    <span class="button__bg" aria-hidden="true"></span>
    <span class="button__content">
      <span class="button__txt">
        <span class="visually-hidden">Continue</span>
        <svg class="icon icon--close" aria-hidden="true" width="17" height="18"><use xlink:href="#icon-close"></use></svg>
      </span>
    </span>
  </span>
`;var Zt=function(n){n.preventDefault();let e=n.currentTarget,t=n.currentTarget.dataset.destination;t&&t==="shop"?(U.content=Jt,Di.href=e.getAttribute("data-href")):(U.content=bt,Ri.href=e.getAttribute("data-href")),(bt||Jt)&&(U.focusOnClose=e,U.open())},Bi=function(n=".leaving-site"){if(!bt||typeof n=="object"&&n.length<=0)return;let e=typeof n=="string"?document.querySelectorAll(n):n;if(!!e)for(let t of e)t.addEventListener("click",Zt),t.addEventListener("auxclick",Zt),t.addEventListener("oncontextmenu",Zt)},Ve=Bi;var D=new Q,te=document.body.classList;D.optionalClass="modal--collections-open";D.onClose=()=>{te.remove("modal-open-fixed"),D.modal.style.opacity=0,window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"modal-exit",expansion:document.body.dataset.trackingExpansionName})};D.onOpen=()=>{var n=new CustomEvent("collectionModalOpen");setTimeout(()=>{D.modal.style.opacity=1},100),window.dispatchEvent(n)};var qi=function(n){te.contains("modal-open-fixed")||te.add("modal-open-fixed");let e=n.currentTarget,t=e.dataset.target,i=document.getElementById(t);i&&(D.content=i,D.focusOnClose=e,D.open())},zi=()=>{document.querySelectorAll(".js-modal-collections").forEach(e=>{e.addEventListener("click",qi)})},Ye=zi;var E=H(ne()),Wi=document.querySelector("#site-wrapper"),k=document.querySelector(".main-nav"),_t=k.querySelector(".main-nav__list"),ie=document.querySelectorAll(".main-nav__list-item"),Z=k.querySelector(".main-nav__toggler"),Ui=document.querySelector(".tcg-gus-site-wrapper"),Xi=k.querySelectorAll("[data-subs] > a"),Ki=k.querySelectorAll(".main-nav__back-button"),w=document.querySelector(".main-nav__dropdown-background"),Vi=document.querySelectorAll(".main-nav__dropdown-item-inner"),Yi=k.querySelectorAll(".main-nav__list-link--featured"),tt=k.querySelectorAll(".main-nav__featured-links-item"),je="main-nav__list--sub-open",K="main-nav__list-item--open",V="nav-open",B="main-nav__featured-links-item--open",A=!1,$e=!1,wt=E.default.current,Gi=function(){A=!A,Z.setAttribute("aria-expanded",A),A?(k.setAttribute("data-open",A),document.body.classList.add(V),tt.forEach(n=>{n.classList.remove(B)}),w.style.height=`${_t.offsetHeight}px`,w.style.borderTop="none"):(w.style.height="0",w.style.borderTop="none",k.removeAttribute("data-open"),document.body.classList.remove(V))},ji=n=>{ie.forEach(e=>{e.classList.remove(K)}),tt.forEach(e=>{e.classList.remove(B)}),w.style.height="0px",w.style.borderTop="none"},$i=n=>{n.preventDefault(),document.body.classList.contains(V)&&(A=!1,Z.setAttribute("aria-expanded",A),k.removeAttribute("data-open"),document.body.classList.remove(V));let e=n.currentTarget.parentNode,t=e.classList.contains(B);tt.forEach(i=>{i.classList.remove(B)}),t?(w.style.height="0px",w.style.borderTop="none"):(e.classList.add(B),w.style.height=`${n.currentTarget.nextSibling.offsetHeight}px`,w.style.borderTop="2px solid #deaf4f")},Qi=n=>{let e=n.currentTarget.parentNode,t=n.currentTarget.nextSibling,i=e.querySelectorAll(".main-nav__dropdown-item-inner");if(n.preventDefault(),E.default.current>E.default.BREAKPOINTS.get("L")){let s=e.classList.contains(K);ie.forEach(a=>{a.classList.remove(K)}),Vi.forEach(a=>{a.setAttribute("tabindex","-1")}),s?(w.style.height="0px",w.style.borderTop="none"):(e.classList.add(K),w.style.height=`${t.offsetHeight}px`,w.style.borderTop="2px solid #deaf4f",i.forEach(a=>{a.removeAttribute("tabindex")}))}E.default.current<E.default.BREAKPOINTS.get("XL")&&(e.classList.add(K),_t.classList.add(je))},Ji=n=>{_t.querySelectorAll(".main-nav__list-item").forEach(e=>{e.classList.remove(K)}),_t.classList.remove(je)},Zi=function(){let n=document.documentElement;return(window.pageYOffset||n.scrollTop)-(n.clientTop||0)},to=function(){return Ui.clientHeight},eo=function(){Zi()>to()?k.setAttribute("data-fixed",!0):k.removeAttribute("data-fixed")},no=()=>{wt===E.default.BREAKPOINTS.get("L")&&E.default.current===E.default.BREAKPOINTS.get("XL")&&(tt.forEach(n=>{n.classList.remove(B)}),w.style.height="0px",w.style.borderTop="none",A=!1,Z.setAttribute("aria-expanded",A),k.removeAttribute("data-open"),document.body.classList.remove(V)),wt===E.default.BREAKPOINTS.get("S")&&E.default.current===E.default.BREAKPOINTS.get("M")&&(Z.setAttribute("aria-expanded",!1),k.setAttribute("data-open",!1),tt.forEach(n=>{n.classList.remove(B)}),w.style.height="0",w.style.borderTop="none",k.removeAttribute("data-open"),document.body.classList.remove(V),A=!1,Z.setAttribute("aria-expanded",A),k.removeAttribute("data-open"),document.body.classList.remove(V)),E.default.current===E.default.BREAKPOINTS.get("L")&&wt===E.default.BREAKPOINTS.get("XL")&&(ie.forEach(n=>{n.classList.remove(K)}),w.style.height="0px",w.style.borderTop="none"),E.default.current===E.default.BREAKPOINTS.get("S")&&(tt.forEach(n=>{n.classList.remove(B)}),w.style.height="0px",w.style.borderTop="none"),wt=E.default.current},Qe=function(){if(!$e&&($e=!0,k)){Z.addEventListener("click",Gi),window.addEventListener("scroll",eo),window.addEventListener("resize",no),Wi.addEventListener("click",ji);for(let n of Xi)n.addEventListener("click",Qi);for(let n of Yi)n.addEventListener("click",$i);for(let n of Ki)n.addEventListener("click",Ji)}};var Je=document.body,Ze=Je.dataset.trackingPageType,Tt=Je.dataset.trackingExpansionName,tn=()=>{window.dataLayer=window.dataLayer||[];let n={event:"dataLayer-initialized",pageType:Ze,...Tt&&{expansionName:Tt}};window.dataLayer.push(n)},en=n=>{let e=n||document.querySelectorAll("[data-track-name], [data-track-card-name], [data-track-filter], [data-video-title], [data-track-wallpaper], [data-track-article]");for(let t of e)t.addEventListener("click",function(i){let s=i.currentTarget,{trackName:a,trackStyle:u,trackEvent:d="button-click",trackFilter:p,appStore:_,callToAction:h,trackCta:m,videoTitle:b,trackWallpaper:g,trackDimensions:z,trackPosition:F,trackArticle:x,trackLocation:Y}=s.dataset;!a&&!p&&!b&&!g&&!x||window.dataLayer.push({event:d,pageType:Ze,...a&&{buttonName:a},...Tt&&{expansion:Tt},...p&&{navName:p},...u&&{style:u},..._&&{appStore:_},...h&&{callToAction:h},...m&&{callToAction:m},...b&&{videoTitle:b},...g&&{fileName:g},...z&&{dimensions:z},...F&&{position:F},...x&&{articleName:x},...Y&&{ctaLocation:Y}})})};var nn=class{constructor({rootElem:e,onChange:t,centerActive:i=!0}){this._onChange=t,this.options={centerActive:i},this.queryDOM(typeof e=="string"?document.querySelector(e):e),this._bcrItems=null,this.calcBCR(),this._total=this._dom.items.length-1,this._current=Math.floor(this._total/2),this._last=null,this._prevDisabled=!1,this._nextDisabled=!1,this._mainTrack={current:0,target:0,pin:0,loose:!1,width:0,centerOffset:0,targetMin:0,targetMax:0},this._itemsPointer={down:!1,x:0,dx:0,vx:0,px:0},this._raf=null,this.addEventListeners(),window.addEventListener("load",this.onWindowResize.bind(this)),this.loop()}queryDOM(e){this._dom=this._dom||{},this._dom.rootElem=e,this._dom.itemsOuter=this._dom.rootElem.querySelector(".touch-slider__items-outer"),this._dom.itemsInner=this._dom.rootElem.querySelector(".touch-slider__items-inner"),this._dom.items=this._dom.rootElem.querySelectorAll(".touch-slider__item"),this._dom.prev=this._dom.rootElem.querySelector(".touch-slider__nav--prev button"),this._dom.next=this._dom.rootElem.querySelector(".touch-slider__nav--next button"),this._dom.contentNav=this._dom.rootElem.classList.contains("content-nav");for(let t in this._dom)NodeList.prototype.isPrototypeOf(this._dom[t])&&(this._dom[t]=[].slice.call(this._dom[t]))}addEventListeners(){window.addEventListener("resize",this.onWindowResize.bind(this)),window.addEventListener("orientationchange",this.onWindowResize.bind(this)),window.addEventListener("touchmove",this.onPointerMove.bind(this)),window.addEventListener("touchend",this.onPointerUp.bind(this)),this._dom.prev&&this._dom.prev.addEventListener("click",this.onPrevDown.bind(this)),this._dom.next&&this._dom.next.addEventListener("click",this.onNextDown.bind(this)),this._dom.itemsOuter.addEventListener("touchstart",this.onPointerDown.bind(this)),this._dom.items.forEach(e=>{e.addEventListener("click",this.onItemsDown.bind(this))}),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},500)}onWindowResize(e=!0){this.calcBCR(),this._mainTrack.width=this._dom.items.reduce((t,i)=>t+i.getBoundingClientRect().width,0),this._mainTrack.targetMin=this._bcrItems.width-this._mainTrack.width,e&&this.setSlide(this._current,!0)}onPointerDown(e){e.currentTarget===this._dom.itemsOuter&&(this._mainTrack.pin=this._mainTrack.current,e.type==="touchstart"&&(this._itemsPointer.x=e.targetTouches[0].clientX,this._itemsPointer.px=e.targetTouches[0].clientX),this._itemsPointer.dx=0,this._itemsPointer.vx=0,this._itemsPointer.down=!0)}onPointerMove(e){!this._itemsPointer.down||(e.type==="mousemove"?this._itemsPointer.x=e.clientX:e.type==="touchmove"&&(this._itemsPointer.x=e.targetTouches[0].clientX),this._itemsPointer.dx=this._itemsPointer.x-this._itemsPointer.px)}onPointerUp(e){this._itemsPointer.vx+=this._itemsPointer.dx/4,(this._itemsPointer.dx<-30||this._itemsPointer.dx>30)&&this._mainTrack.width>this._bcrItems.width&&(this._mainTrack.loose=!0),window.setTimeout(()=>{this._itemsPointer.dx=0,this._itemsPointer.down=!1},0)}onPrevDown(e){e.preventDefault(),this.prevSlide()}onNextDown(e){e.preventDefault(),this.nextSlide()}onItemsDown(e){this.options.centerActive&&this.setSlide(this._dom.items.indexOf(e.currentTarget))}calcBCR(){this._bcrItems=this._dom.itemsOuter.getBoundingClientRect()}setSlide(e,t=!1){let i=Math.max(0,Math.min(e,this._total));!t&&i===this._current||(this.onWindowResize(!1),this._current=i,this._last!==null&&this._dom.items[this._last].classList.remove("current"),this._dom.items[this._current].classList.add("current"),this._mainTrack.width>this._bcrItems.width?this.options.centerActive&&(this._mainTrack.target=-(this._dom.items[this._current].offsetLeft-this._dom.itemsOuter.offsetWidth/2+this._dom.items[this._current].offsetWidth/2)):this._mainTrack.target=0,this._dom.prev&&(this._prevDisabled&&this._current>0?(this._prevDisabled=!1,this._dom.prev.removeAttribute("disabled")):!this._prevDisabled&&this._current===0&&(this._prevDisabled=!0,this._dom.prev.setAttribute("disabled",!0))),this._dom.next&&(this._nextDisabled&&this._current<this._total?(this._nextDisabled=!1,this._dom.next.removeAttribute("disabled")):!this._nextDisabled&&this._current===this._total&&(this._nextDisabled=!0,this._dom.next.setAttribute("disabled",!0))),this._last=this._current,this._mainTrack.loose=!1,this._onChange&&this._onChange(this._current))}prevSlide(){this.setSlide(this._current-1)}nextSlide(){this.setSlide(this._current+1)}update(){let e=this._mainTrack.current;if(this._itemsPointer.vx*=.9,this._itemsPointer.down){let t=this._mainTrack.pin+this._itemsPointer.dx;(this._itemsPointer.dx>0&&t>0||this._itemsPointer.dx<0&&t<-this._mainTrack.width+this._bcrItems.width)&&(t=this._mainTrack.pin+this._itemsPointer.dx*.25),this._mainTrack.current=Math.round(t)}else if(this._mainTrack.loose){if(this._mainTrack.current+=Math.round(this._itemsPointer.vx),this._mainTrack.current>0?this._mainTrack.current+=Math.round((0-this._mainTrack.current)*.25):this._mainTrack.current<-(this._mainTrack.width-this._bcrItems.width)&&(this._mainTrack.current+=Math.round((-(this._mainTrack.width-this._bcrItems.width)-this._mainTrack.current)*.25)),this.options.centerActive&&this._mainTrack.current===e&&this._mainTrack.loose&&!this._itemsPointer.down){let t=this._mainTrack.width+Math.abs(this._mainTrack.current),i;for(i=0;i<this._dom.items.length;i++){let s=this._dom.items[i],a=Math.abs(s.offsetLeft+s.offsetWidth*.5+this._mainTrack.current-this._bcrItems.width*.5);if(a>t){i-=1;break}t=a}this.setSlide(i,!0)}}else{let t=this._mainTrack.target-this._mainTrack.current;Math.abs(t)<.1?this._mainTrack.current=this._mainTrack.target:this._mainTrack.current+=Math.round(t*.15)}}render(){this._dom.itemsInner.style.transform=`translateX(${this._mainTrack.current}px)`,this._dom.contentNav||(this._mainTrack.width<=this._bcrItems.width?this._dom.itemsInner.style.justifyContent="center":this._dom.itemsInner.style.justifyContent="initial")}loop(){this.update(),this.render(),this._raf=window.requestAnimationFrame(this.loop.bind(this))}},on=nn;var qo=document.querySelector(".skippers__item-link"),io=function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},oo=function(){let n=document.querySelectorAll(".back-to-top");if(n.length>0){for(let i of n)i.addEventListener("click",io);let e=!1,t=function(){let i=window.scrollY>window.innerHeight/2;if(e!==i)for(let s of n)i?s.classList.add("is-visible"):s.classList.remove("is-visible");e=i};window.addEventListener("scroll",t)}},rn=oo;var lt=H(ne());function ro(){let n=document.querySelectorAll(".product-selection__button"),e=document.querySelector(".product-items--large"),t=document.querySelectorAll(".product-items--small"),i=["card-fan-category","casual-battler-category","competitor-category"];Array.from(n).forEach((a,u)=>{a.addEventListener("click",function(d){let p=a.classList.contains("is-active"),_=lt.default.current;n.forEach(h=>{h.classList.remove("is-active"),_>lt.default.BREAKPOINTS.get("S")&&e.classList.remove("is-open")}),p||(a.classList.add("is-active"),_>lt.default.BREAKPOINTS.get("S")&&e.classList.add("is-open")),e.setAttribute("data-attribute",i[u]),_===lt.default.BREAKPOINTS.get("S")&&t.forEach(h=>{h.setAttribute("data-attribute",i[u])})})});let s=document.querySelectorAll(".product-selection__link");Array.from(s).forEach(a=>{a.addEventListener("click",function(u){n.forEach(d=>{d.classList.remove("is-active")})})})}var sn=ro;function oe(){let n=document.querySelector(".preloader");n&&(window.addEventListener("load",function(){setTimeout(()=>{n.classList.add("page-has-loaded")},1e3)}),n.addEventListener("transitionend",function(){n.remove()}))}var St=H(pn());var mn=document.documentElement,Et="prefersReducedMotion",vn="is-reduced-motion",mo=[],O=localStorage.getItem(Et);O=O?O.toLowerCase()==="true":!1;window.addEventListener("pageshow",function(){let n=localStorage.getItem(Et);n=n?n.toLowerCase()==="true":!1,n!==O&&(O=n,se())});var gn=function(){let n=new CustomEvent("wtc-reduce-motion",{detail:{state:O}});window.dispatchEvent(n)},vo=function(){O?bn():yn()},_n=function(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches},yn=function(){O=!0,localStorage.setItem(Et,O),mn.classList.add(vn),gn()},bn=function(){O=!1,localStorage.setItem(Et,O),mn.classList.remove(vn),gn()},Pt=function(){return _n()?!0:O},se=function(n='[data-controller="ReduceMotion"]'){if(typeof n=="object"&&n.length<=0)return;let e=typeof n=="string"?document.querySelectorAll(n):n;if(!e)return;let t=_n(),i=Pt();for(let s of e)t?s.setAttribute("hidden","true"):s.addEventListener("click",vo);mo.concat([...e]),i?yn():bn()};Qe();se();var ae=document.querySelectorAll('[data-controller="Viewport"]');if(ae&&ae.length>0)for(let n of ae)new wn.default(n);var En=document.querySelectorAll('[data-controller="PerspectiveCard"]');Array.from(En).forEach(n=>{n.controller=new St.default(n),n.controller.motionOff=Pt()});var Pn=document.querySelectorAll('[data-decorator="ClickablePerspectiveCard"]');Array.from(Pn).forEach(n=>{n.controller=new St.ClickablePerspectiveCard(n),n.controller.motionOff=Pt()});window.addEventListener("wtc-reduce-motion",n=>{Array.from(En).forEach(e=>{e.controller.motionOff=n.detail.state}),Array.from(Pn).forEach(e=>{e.controller.motionOff=n.detail.state})});var Sn=document.querySelectorAll(".gallery--collections-modal");if(Sn)for(let n of Sn){let e=new nt.default(n,{nav:!0,nextBtnMarkup:document.querySelector(".gallery__nav-markup--next").innerHTML,prevBtnMarkup:document.querySelector(".gallery__nav-markup--prev").innerHTML});window.addEventListener("collectionModalOpen",t=>{e.element.classList.remove("collection-gallery-is-loaded"),setTimeout(()=>{e.resize(),e.element.classList.add("collection-gallery-is-loaded")},100)})}var le=document.querySelectorAll(".js-gallery");if(le&&le.length>0)for(let n of le){let e=new nt.default(n,{nav:!0,nextBtnMarkup:document.querySelector(".gallery__nav-markup--next").innerHTML,prevBtnMarkup:document.querySelector(".gallery__nav-markup--prev").innerHTML})}var kn=document.querySelector(".event-gallery");kn&&new nt.default(kn,{nav:!0,pagination:!0,paginationTarget:".event-gallery__pagination",nextBtnMarkup:document.querySelector(".gallery__nav-markup--next").innerHTML,prevBtnMarkup:document.querySelector(".gallery__nav-markup--prev").innerHTML});var ce=document.querySelectorAll('[data-controller="CardDexPhone"]');if(ce&&ce.length>0)for(let n of ce)new nt.default(n);var Ln=document.querySelectorAll('[data-controller="SWSH3VideoGallery"]');if(Ln)for(let n of Ln)new nt.default(n);var go=document.querySelectorAll('[data-controller="AutoplayVideo"');for(let n of go)new Tn.default(n);var yo=document.querySelectorAll('[data-controller="TouchSlider"');for(let n of yo)new on({rootElem:n,centerActive:n.hasAttribute("data-center-active")||!1});oe();Ke();Ve();Ye();tn();en();rn();sn();
/*!
 * PEP v0.5.1 | https://github.com/jquery/PEP
 * Copyright jQuery Foundation and other contributors | http://jquery.org/license
 */
